(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},50570,e=>{"use strict";let t=(0,e.i(75254).default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);e.s(["GripVertical",()=>t],50570)},8718,e=>{"use strict";let t;var r,n,l,a,i,o,s,u,c,d,f,p,h,m,g,v,x,b,y,w=e.i(18050),j=e.i(71645),C=e.i(93479),S=e.i(55436);function k({value:e,onChange:t}){return(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(S.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,w.jsx)(C.Input,{placeholder:"Search channels...",className:"pl-9 h-9 bg-background/50",value:e,onChange:e=>t?.(e.target.value)})]})}var N=e.i(22016),E=e.i(18566),D=e.i(75157),R=e.i(75254);let M=(0,R.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var P=e.i(19455),z=e.i(76639),A=e.i(7233),I=e.i(88081),L=e.i(27025),O=e.i(95187),T=(0,O.createServerReference)("701d7325082596205f312f2ca42a3ca62d9d770c0b",O.callServer,void 0,O.findSourceMapURL,"createCategory");function F({categories:e}){let[t,r]=(0,j.useState)(!1),[n,l]=(0,j.useState)(""),[a,i]=(0,j.useState)("category"),[o,s]=(0,j.useState)(!1),u=(0,E.useRouter)(),c=async e=>{if(e.preventDefault(),n.trim()){s(!0);try{await T(n,"folder"===a?"folder":null,void 0),r(!1),l(""),i("category"),u.refresh()}catch(e){console.error(e)}finally{s(!1)}}};return e.filter(e=>!e.parentId),(0,w.jsxs)(z.Dialog,{open:t,onOpenChange:r,children:[(0,w.jsx)(z.DialogTrigger,{asChild:!0,children:(0,w.jsxs)(P.Button,{variant:"ghost",size:"icon",className:"h-4 w-4",children:[(0,w.jsx)(A.Plus,{className:"h-4 w-4"}),(0,w.jsx)("span",{className:"sr-only",children:"Add Channel"})]})}),(0,w.jsxs)(z.DialogContent,{className:"sm:max-w-[425px]",children:[(0,w.jsx)(z.DialogHeader,{children:(0,w.jsx)(z.DialogTitle,{children:"Create Channel"})}),(0,w.jsxs)("form",{onSubmit:c,className:"grid gap-4 py-4",children:[(0,w.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,w.jsx)("label",{className:"text-sm font-medium",children:"Name"}),(0,w.jsx)(C.Input,{id:"name",placeholder:"Channel name",value:n,onChange:e=>l(e.target.value),disabled:o})]}),(0,w.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,w.jsx)("label",{className:"text-sm font-medium",children:"Type"}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsxs)(P.Button,{type:"button",variant:"category"===a?"default":"outline",onClick:()=>i("category"),className:"flex-1",children:[(0,w.jsx)(I.Hash,{className:"mr-2 h-4 w-4"})," Text Channel"]}),(0,w.jsxs)(P.Button,{type:"button",variant:"folder"===a?"default":"outline",onClick:()=>i("folder"),className:"flex-1",children:[(0,w.jsx)(L.Folder,{className:"mr-2 h-4 w-4"})," Folder"]})]})]}),(0,w.jsx)(z.DialogFooter,{children:(0,w.jsx)(P.Button,{type:"submit",disabled:o,children:"Create"})})]})]})]})}var $=(0,O.createServerReference)("40925b8f2377d2c5e7710ccb8857b9e0afb4a27438",O.callServer,void 0,O.findSourceMapURL,"deleteCategory"),B=(0,O.createServerReference)("606da99dfc16db5749fb7ba1439c5e71bc88bb2dbb",O.callServer,void 0,O.findSourceMapURL,"moveCategory"),H=(0,O.createServerReference)("60b0c1fd0d1fc1df7f38136c8944adbeedf5836995",O.callServer,void 0,O.findSourceMapURL,"renameCategory"),U=e.i(74080);let _="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function K(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function W(e){return"nodeType"in e}function V(e){var t,r;return e?K(e)?e:W(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function q(e){let{Document:t}=V(e);return e instanceof t}function G(e){return!K(e)&&e instanceof V(e).HTMLElement}function X(e){return e instanceof V(e).SVGElement}function Y(e){return e?K(e)?e.document:W(e)?q(e)?e:G(e)||X(e)?e.ownerDocument:document:document:document}let J=_?j.useLayoutEffect:j.useEffect;function Z(e){let t=(0,j.useRef)(e);return J(()=>{t.current=e}),(0,j.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function Q(e,t){void 0===t&&(t=[e]);let r=(0,j.useRef)(e);return J(()=>{r.current!==e&&(r.current=e)},t),r}function ee(e,t){let r=(0,j.useRef)();return(0,j.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function et(e){let t=Z(e),r=(0,j.useRef)(null),n=(0,j.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function er(e){let t=(0,j.useRef)();return(0,j.useEffect)(()=>{t.current=e},[e]),t.current}let en={};function el(e,t){return(0,j.useMemo)(()=>{if(t)return t;let r=null==en[e]?0:en[e]+1;return en[e]=r,e+"-"+r},[e,t])}function ea(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];return n.reduce((t,r)=>{for(let[n,l]of Object.entries(r)){let r=t[n];null!=r&&(t[n]=r+e*l)}return t},{...t})}}let ei=ea(1),eo=ea(-1);function es(e){if(!e)return!1;let{KeyboardEvent:t}=V(e.target);return t&&e instanceof t}function eu(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=V(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let ec=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[ec.Translate.toString(e),ec.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),ed="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",ef={display:"none"};function ep(e){let{id:t,value:r}=e;return j.default.createElement("div",{id:t,style:ef},r)}function eh(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return j.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}let em=(0,j.createContext)(null),eg={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ev={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ex(e){var t;let r,{announcements:n=ev,container:l,hiddenTextDescribedById:a,screenReaderInstructions:i=eg}=e,{announce:o,announcement:s}=function(){let[e,t]=(0,j.useState)("");return{announce:(0,j.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),u=el("DndLiveRegion"),[c,d]=(0,j.useState)(!1);if((0,j.useEffect)(()=>{d(!0)},[]),t=(0,j.useMemo)(()=>({onDragStart(e){let{active:t}=e;o(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&o(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;o(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;o(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;o(n.onDragCancel({active:t,over:r}))}}),[o,n]),r=(0,j.useContext)(em),(0,j.useEffect)(()=>{if(!r)throw Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r]),!c)return null;let f=j.default.createElement(j.default.Fragment,null,j.default.createElement(ep,{id:a,value:i.draggable}),j.default.createElement(eh,{id:u,announcement:s}));return l?(0,U.createPortal)(f,l):f}function eb(){}function ey(e,t){return(0,j.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(r=d||(d={})).DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable";let ew=Object.freeze({x:0,y:0});function ej(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function eC(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function eS(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let ek=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,l=eS(t,t.left,t.top),a=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){var i;let r=(i=eS(n),Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2)));a.push({id:t,data:{droppableContainer:e,value:r}})}}return a.sort(ej)},eN=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,l=[];for(let e of n){let{id:n}=e,a=r.get(n);if(a){let r=function(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height);if(n<l&&r<a){let i=t.width*t.height,o=e.width*e.height,s=(l-n)*(a-r);return Number((s/(i+o-s)).toFixed(4))}return 0}(a,t);r>0&&l.push({id:n,data:{droppableContainer:e,value:r}})}}return l.sort(eC)};function eE(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ew}let eD=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})},eR={ignoreTransform:!1};function eM(e,t){void 0===t&&(t=eR);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=V(e).getComputedStyle(e);t&&(r=function(e,t,r){let n=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;let{scaleX:l,scaleY:a,x:i,y:o}=n,s=e.left-i-(1-l)*parseFloat(r),u=e.top-o-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),c=l?e.width/l:e.width,d=a?e.height/a:e.height;return{width:c,height:d,top:u,right:s+c,bottom:u+d,left:s}}(r,t,n))}let{top:n,left:l,width:a,height:i,bottom:o,right:s}=r;return{top:n,left:l,width:a,height:i,bottom:o,right:s}}function eP(e){return eM(e,{ignoreTransform:!0})}function ez(e,t){let r=[];return e?function n(l){var a,i;let o;if(null!=t&&r.length>=t||!l)return r;if(q(l)&&null!=l.scrollingElement&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!G(l)||X(l)||r.includes(l))return r;let s=V(e).getComputedStyle(l);return(l!==e&&(void 0===(a=s)&&(a=V(l).getComputedStyle(l)),o=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=a[e];return"string"==typeof t&&o.test(t)}))&&r.push(l),void 0===(i=s)&&(i=V(l).getComputedStyle(l)),"fixed"===i.position)?r:n(l.parentNode)}(e):r}function eA(e){let[t]=ez(e,1);return null!=t?t:null}function eI(e){return _&&e?K(e)?e:W(e)?q(e)||e===Y(e).scrollingElement?window:G(e)?e:null:null:null}function eL(e){return K(e)?e.scrollX:e.scrollLeft}function eO(e){return K(e)?e.scrollY:e.scrollTop}function eT(e){return{x:eL(e),y:eO(e)}}function eF(e){return!!_&&!!e&&e===document.scrollingElement}function e$(e){let t={x:0,y:0},r=eF(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},l=e.scrollTop<=t.y,a=e.scrollLeft<=t.x;return{isTop:l,isLeft:a,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}(n=f||(f={}))[n.Forward=1]="Forward",n[n.Backward=-1]="Backward";let eB={x:.2,y:.2};function eH(e){return e.reduce((e,t)=>ei(e,eT(t)),ew)}let eU=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+eL(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+eO(t),0)}]];class e_{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ez(t),n=eH(r);for(const[t,l,a]of(this.rect={...e},this.width=e.width,this.height=e.height,eU))for(const e of l)Object.defineProperty(this,e,{get:()=>{let l=a(r),i=n[t]-l;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eK{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function eW(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}function eV(e){e.preventDefault()}function eq(e){e.stopPropagation()}(l=p||(p={})).Click="click",l.DragStart="dragstart",l.Keydown="keydown",l.ContextMenu="contextmenu",l.Resize="resize",l.SelectionChange="selectionchange",l.VisibilityChange="visibilitychange",(a=h||(h={})).Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab";let eG={start:[h.Space,h.Enter],cancel:[h.Esc],end:[h.Space,h.Enter,h.Tab]},eX=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case h.Right:return{...r,x:r.x+25};case h.Left:return{...r,x:r.x-25};case h.Down:return{...r,y:r.y+25};case h.Up:return{...r,y:r.y-25}}};class eY{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new eK(Y(t)),this.windowListeners=new eK(V(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(p.Resize,this.handleCancel),this.windowListeners.add(p.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(p.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=eM),!e)return;let{top:r,left:n,bottom:l,right:a}=t(e);eA(e)&&(l<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(ew)}handleKeyDown(e){if(es(e)){let{active:t,context:r,options:n}=this.props,{keyboardCodes:l=eG,coordinateGetter:a=eX,scrollBehavior:i="smooth"}=n,{code:o}=e;if(l.end.includes(o))return void this.handleEnd(e);if(l.cancel.includes(o))return void this.handleCancel(e);let{collisionRect:s}=r.current,u=s?{x:s.left,y:s.top}:ew;this.referenceCoordinates||(this.referenceCoordinates=u);let c=a(e,{active:t,context:r.current,currentCoordinates:u});if(c){let t=eo(c,u),n={x:0,y:0},{scrollableAncestors:l}=r.current;for(let r of l){let l=e.code,{isTop:a,isRight:o,isLeft:s,isBottom:u,maxScroll:d,minScroll:f}=e$(r),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:n,bottom:l}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:l,width:e.clientWidth,height:e.clientHeight}}(r),m={x:Math.min(l===h.Right?p.right-p.width/2:p.right,Math.max(l===h.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(l===h.Down?p.bottom-p.height/2:p.bottom,Math.max(l===h.Down?p.top:p.top+p.height/2,c.y))},g=l===h.Right&&!o||l===h.Left&&!s,v=l===h.Down&&!u||l===h.Up&&!a;if(g&&m.x!==c.x){let e=r.scrollLeft+t.x,a=l===h.Right&&e<=d.x||l===h.Left&&e>=f.x;if(a&&!t.y)return void r.scrollTo({left:e,behavior:i});a?n.x=r.scrollLeft-e:n.x=l===h.Right?r.scrollLeft-d.x:r.scrollLeft-f.x,n.x&&r.scrollBy({left:-n.x,behavior:i});break}if(v&&m.y!==c.y){let e=r.scrollTop+t.y,a=l===h.Down&&e<=d.y||l===h.Up&&e>=f.y;if(a&&!t.x)return void r.scrollTo({top:e,behavior:i});a?n.y=r.scrollTop-e:n.y=l===h.Down?r.scrollTop-d.y:r.scrollTop-f.y,n.y&&r.scrollBy({top:-n.y,behavior:i});break}}this.handleMove(e,ei(eo(c,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function eJ(e){return!!(e&&"distance"in e)}function eZ(e){return!!(e&&"delay"in e)}eY.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=eG,onActivation:l}=t,{active:a}=r,{code:i}=e.nativeEvent;if(n.start.includes(i)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==l||l({event:e.nativeEvent}),!0)}return!1}}];class eQ{constructor(e,t,r){var n;void 0===r&&(r=function(e){let{EventTarget:t}=V(e);return e instanceof t?e:Y(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:a}=l;this.props=e,this.events=t,this.document=Y(a),this.documentListeners=new eK(this.document),this.listeners=new eK(r),this.windowListeners=new eK(V(a)),this.initialCoordinates=null!=(n=eu(l))?n:ew,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(p.Resize,this.handleCancel),this.windowListeners.add(p.DragStart,eV),this.windowListeners.add(p.VisibilityChange,this.handleCancel),this.windowListeners.add(p.ContextMenu,eV),this.documentListeners.add(p.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eZ(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(eJ(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(p.Click,eq,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(p.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:n,props:l}=this,{onMove:a,options:{activationConstraint:i}}=l;if(!n)return;let o=null!=(t=eu(e))?t:ew,s=eo(n,o);if(!r&&i){if(eJ(i)){if(null!=i.tolerance&&eW(s,i.tolerance))return this.handleCancel();if(eW(s,i.distance))return this.handleStart()}return eZ(i)&&eW(s,i.tolerance)?this.handleCancel():void this.handlePending(i,s)}e.cancelable&&e.preventDefault(),a(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===h.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let e0={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class e1 extends eQ{constructor(e){const{event:t}=e;super(e,e0,Y(t.target))}}e1.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!!r.isPrimary&&0===r.button&&(null==n||n({event:r}),!0)}}];(i=m||(m={}))[i.RightClick=2]="RightClick";(o=g||(g={}))[o.Pointer=0]="Pointer",o[o.DraggableRect=1]="DraggableRect",(s=v||(v={}))[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder";let e2={x:{[f.Backward]:!1,[f.Forward]:!1},y:{[f.Backward]:!1,[f.Forward]:!1}};(u=x||(x={}))[u.Always=0]="Always",u[u.BeforeDragging=1]="BeforeDragging",u[u.WhileDragging=2]="WhileDragging",(b||(b={})).Optimized="optimized";let e5=new Map;function e4(e,t){return ee(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function e3(e){let{callback:t,disabled:r}=e,n=Z(t),l=(0,j.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[r]);return(0,j.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}function e9(e){return new e_(eM(e),e)}function e6(e,t,r){void 0===t&&(t=e9);let[n,l]=(0,j.useState)(null);function a(){l(n=>{if(!e)return null;if(!1===e.isConnected){var l;return null!=(l=null!=n?n:r)?l:null}let a=t(e);return JSON.stringify(n)===JSON.stringify(a)?n:a})}let i=function(e){let{callback:t,disabled:r}=e,n=Z(t),l=(0,j.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,j.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}({callback(t){if(e)for(let r of t){let{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){a();break}}}}),o=e3({callback:a});return J(()=>{a(),e?(null==o||o.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==i||i.disconnect())},[e]),n}let e8=[];function e7(e,t){void 0===t&&(t=[]);let r=(0,j.useRef)(null);return(0,j.useEffect)(()=>{r.current=null},t),(0,j.useEffect)(()=>{let t=e!==ew;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?eo(e,r.current):ew}function te(e){return(0,j.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let tt=[],tr=[{sensor:e1,options:{}},{sensor:eY,options:{}}],tn={current:{}},tl={draggable:{measure:eP},droppable:{measure:eP,strategy:x.WhileDragging,frequency:b.Optimized},dragOverlay:{measure:eM}};class ta extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let ti={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ta,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:eb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tl,measureDroppableContainers:eb,windowRect:null,measuringScheduled:!1},to={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:eb,draggableNodes:new Map,over:null,measureDroppableContainers:eb},ts=(0,j.createContext)(to),tu=(0,j.createContext)(ti);function tc(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ta}}}function td(e,t){switch(t.type){case d.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case d.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case d.DragEnd:case d.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case d.RegisterDroppable:{let{element:r}=t,{id:n}=r,l=new ta(e.droppable.containers);return l.set(n,r),{...e,droppable:{...e.droppable,containers:l}}}case d.SetDroppableDisabled:{let{id:r,key:n,disabled:l}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;let i=new ta(e.droppable.containers);return i.set(r,{...a,disabled:l}),{...e,droppable:{...e.droppable,containers:i}}}case d.UnregisterDroppable:{let{id:r,key:n}=t,l=e.droppable.containers.get(r);if(!l||n!==l.key)return e;let a=new ta(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function tf(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:l}=(0,j.useContext)(ts),a=er(n),i=er(null==r?void 0:r.id);return(0,j.useEffect)(()=>{if(!t&&!n&&a&&null!=i){if(!es(a)||document.activeElement===a.target)return;let e=l.get(i);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(ed)?e:e.querySelector(ed);if(t){t.focus();break}}})}},[n,t,l,i,a]),null}let tp=(0,j.createContext)({...ew,scaleX:1,scaleY:1});(c=y||(y={}))[c.Uninitialized=0]="Uninitialized",c[c.Initializing=1]="Initializing",c[c.Initialized=2]="Initialized";let th=(0,j.memo)(function(e){var t,r,n,l,a,i,o,s;let u,c,p,h,m,b,w,C,{id:S,accessibility:k,autoScroll:N=!0,children:E,sensors:D=tr,collisionDetection:R=eN,measuring:M,modifiers:P,...z}=e,[A,I]=(0,j.useReducer)(td,void 0,tc),[L,O]=function(){let[e]=(0,j.useState)(()=>new Set),t=(0,j.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,j.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[T,F]=(0,j.useState)(y.Uninitialized),$=T===y.Initialized,{draggable:{active:B,nodes:H,translate:K},droppable:{containers:W}}=A,q=null!=B?H.get(B):null,X=(0,j.useRef)({initial:null,translated:null}),Y=(0,j.useMemo)(()=>{var e;return null!=B?{id:B,data:null!=(e=null==q?void 0:q.data)?e:tn,rect:X}:null},[B,q]),Z=(0,j.useRef)(null),[en,ea]=(0,j.useState)(null),[eo,es]=(0,j.useState)(null),ec=Q(z,Object.values(z)),ed=el("DndDescribedBy",S),ef=(0,j.useMemo)(()=>W.getEnabled(),[W]),ep=(0,j.useMemo)(()=>({draggable:{...tl.draggable,...null==M?void 0:M.draggable},droppable:{...tl.droppable,...null==M?void 0:M.droppable},dragOverlay:{...tl.dragOverlay,...null==M?void 0:M.dragOverlay}}),[null==M?void 0:M.draggable,null==M?void 0:M.droppable,null==M?void 0:M.dragOverlay]),{droppableRects:eh,measureDroppableContainers:eg,measuringScheduled:ev}=function(e,t){let{dragging:r,dependencies:n,config:l}=t,[a,i]=(0,j.useState)(null),{frequency:o,measure:s,strategy:u}=l,c=(0,j.useRef)(e),d=function(){switch(u){case x.Always:return!1;case x.BeforeDragging:return r;default:return!r}}(),f=Q(d),p=(0,j.useCallback)(function(e){void 0===e&&(e=[]),f.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),h=(0,j.useRef)(null),m=ee(t=>{if(d&&!r)return e5;if(!t||t===e5||c.current!==e||null!=a){let t=new Map;for(let r of e){if(!r)continue;if(a&&a.length>0&&!a.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,n=e?new e_(s(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,a,r,d,s]);return(0,j.useEffect)(()=>{c.current=e},[e]),(0,j.useEffect)(()=>{d||p()},[r,d]),(0,j.useEffect)(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),(0,j.useEffect)(()=>{d||"number"!=typeof o||null!==h.current||(h.current=setTimeout(()=>{p(),h.current=null},o))},[o,d,p,...n]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:null!=a}}(ef,{dragging:$,dependencies:[K.x,K.y],config:ep.droppable}),eb=ee(e=>{var t;return null==B?null:null!=(t=null!=m?m:e)?t:null},[m=(h=null!=B?H.get(B):void 0)?h.node.current:null,B]),ey=(0,j.useMemo)(()=>eo?eu(eo):null,[eo]),ej=(u=(null==en?void 0:en.autoScrollEnabled)===!1,c="object"==typeof N?!1===N.enabled:!1===N,p=$&&!u&&!c,"object"==typeof N?{...N,enabled:p}:{enabled:p}),eC=e4(eb,ep.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:l=!0}=e,a=(0,j.useRef)(!1),{x:i,y:o}="boolean"==typeof l?{x:l,y:l}:l;J(()=>{if(!i&&!o||!t){a.current=!1;return}if(a.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let l=eE(r(e),n);if(i||(l.x=0),o||(l.y=0),a.current=!0,Math.abs(l.x)>0||Math.abs(l.y)>0){let t=eA(e);t&&t.scrollBy({top:l.y,left:l.x})}},[t,i,o,n,r])}({activeNode:null!=B?H.get(B):null,config:ej.layoutShiftCompensation,initialRect:eC,measure:ep.draggable.measure});let eS=e6(eb,ep.draggable.measure,eC),ek=e6(eb?eb.parentElement:null),eR=(0,j.useRef)({activatorEvent:null,active:null,activeNode:eb,collisionRect:null,collisions:null,droppableRects:eh,draggableNodes:H,draggingNode:null,draggingNodeRect:null,droppableContainers:W,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),eP=W.getNodeFor(null==(t=eR.current.over)?void 0:t.id),eL=function(e){let{measure:t}=e,[r,n]=(0,j.useState)(null),l=e3({callback:(0,j.useCallback)(e=>{for(let{target:r}of e)if(G(r)){n(e=>{let n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[a,i]=et((0,j.useCallback)(e=>{let r=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return G(t)?t:e}(e);null==l||l.disconnect(),r&&(null==l||l.observe(r)),n(r?t(r):null)},[t,l]));return(0,j.useMemo)(()=>({nodeRef:a,rect:r,setRef:i}),[r,a,i])}({measure:ep.dragOverlay.measure}),eO=null!=(r=eL.nodeRef.current)?r:eb,eU=$?null!=(n=eL.rect)?n:eS:null,eK=!!(eL.nodeRef.current&&eL.rect),eW=(b=e4(a=eK?null:eS),eE(a,b)),eV=te(eO?V(eO):null),eq=(i=$?null!=eP?eP:eb:null,w=(0,j.useRef)(i),C=ee(e=>i?e&&e!==e8&&i&&w.current&&i.parentNode===w.current.parentNode?e:ez(i):e8,[i]),(0,j.useEffect)(()=>{w.current=i},[i]),C),eG=function(e,t){void 0===t&&(t=eM);let[r]=e,n=te(r?V(r):null),[l,a]=(0,j.useState)(tt);function i(){a(()=>e.length?e.map(e=>eF(e)?n:new e_(t(e),e)):tt)}let o=e3({callback:i});return J(()=>{null==o||o.disconnect(),i(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),l}(eq),eX=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}(P,{transform:{x:K.x-eW.x,y:K.y-eW.y,scaleX:1,scaleY:1},activatorEvent:eo,active:Y,activeNodeRect:eS,containerNodeRect:ek,draggingNodeRect:eU,over:eR.current.over,overlayNodeRect:eL.rect,scrollableAncestors:eq,scrollableAncestorRects:eG,windowRect:eV}),eY=ey?ei(ey,K):null,eJ=function(e){let[t,r]=(0,j.useState)(null),n=(0,j.useRef)(e),l=(0,j.useCallback)(e=>{let t=eI(e.target);t&&r(e=>e?(e.set(t,eT(t)),new Map(e)):null)},[]);return(0,j.useEffect)(()=>{let t=n.current;if(e!==t){a(t);let i=e.map(e=>{let t=eI(e);return t?(t.addEventListener("scroll",l,{passive:!0}),[t,eT(t)]):null}).filter(e=>null!=e);r(i.length?new Map(i):null),n.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{let t=eI(e);null==t||t.removeEventListener("scroll",l)})}},[l,e]),(0,j.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>ei(e,t),ew):eH(e):ew,[e,t])}(eq),eZ=e7(eJ),eQ=e7(eJ,[eS]),e0=ei(eX,eZ),e1=eU?eD(eU,eX):null,e9=Y&&e1?R({active:Y,collisionRect:e1,droppableRects:eh,droppableContainers:ef,pointerCoordinates:eY}):null,ta=function(e,t){if(!e||0===e.length)return null;let[r]=e;return r.id}(e9,0),[ti,to]=(0,j.useState)(null),th=(o=eK?eX:ei(eX,eQ),s=null!=(l=null==ti?void 0:ti.rect)?l:null,{...o,scaleX:s&&eS?s.width/eS.width:1,scaleY:s&&eS?s.height/eS.height:1}),tm=(0,j.useRef)(null),tg=(0,j.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==Z.current)return;let l=H.get(Z.current);if(!l)return;let a=e.nativeEvent,i=new r({active:Z.current,activeNode:l,event:a,options:n,context:eR,onAbort(e){if(!H.get(e))return;let{onDragAbort:t}=ec.current,r={id:e};null==t||t(r),L({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!H.get(e))return;let{onDragPending:l}=ec.current,a={id:e,constraint:t,initialCoordinates:r,offset:n};null==l||l(a),L({type:"onDragPending",event:a})},onStart(e){let t=Z.current;if(null==t)return;let r=H.get(t);if(!r)return;let{onDragStart:n}=ec.current,l={activatorEvent:a,active:{id:t,data:r.data,rect:X}};(0,U.unstable_batchedUpdates)(()=>{null==n||n(l),F(y.Initializing),I({type:d.DragStart,initialCoordinates:e,active:t}),L({type:"onDragStart",event:l}),ea(tm.current),es(a)})},onMove(e){I({type:d.DragMove,coordinates:e})},onEnd:o(d.DragEnd),onCancel:o(d.DragCancel)});function o(e){return async function(){let{active:t,collisions:r,over:n,scrollAdjustedTranslate:l}=eR.current,i=null;if(t&&l){let{cancelDrop:o}=ec.current;i={activatorEvent:a,active:t,collisions:r,delta:l,over:n},e===d.DragEnd&&"function"==typeof o&&await Promise.resolve(o(i))&&(e=d.DragCancel)}Z.current=null,(0,U.unstable_batchedUpdates)(()=>{I({type:e}),F(y.Uninitialized),to(null),ea(null),es(null),tm.current=null;let t=e===d.DragEnd?"onDragEnd":"onDragCancel";if(i){let e=ec.current[t];null==e||e(i),L({type:t,event:i})}})}}tm.current=i},[H]),tv=(0,j.useCallback)((e,t)=>(r,n)=>{let l=r.nativeEvent,a=H.get(n);null!==Z.current||!a||l.dndKit||l.defaultPrevented||!0===e(r,t.options,{active:a})&&(l.dndKit={capturedBy:t.sensor},Z.current=n,tg(r,t))},[H,tg]),tx=(0,j.useMemo)(()=>D.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:tv(e.handler,t)}))]},[]),[D,tv]);(0,j.useEffect)(()=>{if(!_)return;let e=D.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},D.map(e=>{let{sensor:t}=e;return t})),J(()=>{eS&&T===y.Initializing&&F(y.Initialized)},[eS,T]),(0,j.useEffect)(()=>{let{onDragMove:e}=ec.current,{active:t,activatorEvent:r,collisions:n,over:l}=eR.current;if(!t||!r)return;let a={active:t,activatorEvent:r,collisions:n,delta:{x:e0.x,y:e0.y},over:l};(0,U.unstable_batchedUpdates)(()=>{null==e||e(a),L({type:"onDragMove",event:a})})},[e0.x,e0.y]),(0,j.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:l}=eR.current;if(!e||null==Z.current||!t||!l)return;let{onDragOver:a}=ec.current,i=n.get(ta),o=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,s={active:e,activatorEvent:t,collisions:r,delta:{x:l.x,y:l.y},over:o};(0,U.unstable_batchedUpdates)(()=>{to(o),null==a||a(s),L({type:"onDragOver",event:s})})},[ta]),J(()=>{eR.current={activatorEvent:eo,active:Y,activeNode:eb,collisionRect:e1,collisions:e9,droppableRects:eh,draggableNodes:H,draggingNode:eO,draggingNodeRect:eU,droppableContainers:W,over:ti,scrollableAncestors:eq,scrollAdjustedTranslate:e0},X.current={initial:eU,translated:e1}},[Y,eb,e9,e1,H,eO,eU,eh,W,ti,eq,e0]),function(e){let t,{acceleration:r,activator:n=g.Pointer,canScroll:l,draggingRect:a,enabled:i,interval:o=5,order:s=v.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:p,threshold:h}=e,m=function(e){let{delta:t,disabled:r}=e,n=er(t);return ee(e=>{if(r||!n||!e)return e2;let l={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[f.Backward]:e.x[f.Backward]||-1===l.x,[f.Forward]:e.x[f.Forward]||1===l.x},y:{[f.Backward]:e.y[f.Backward]||-1===l.y,[f.Forward]:e.y[f.Forward]||1===l.y}}},[r,t,n])}({delta:p,disabled:!i}),[x,b]=(t=(0,j.useRef)(null),[(0,j.useCallback)((e,r)=>{t.current=setInterval(e,r)},[]),(0,j.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),y=(0,j.useRef)({x:0,y:0}),w=(0,j.useRef)({x:0,y:0}),C=(0,j.useMemo)(()=>{switch(n){case g.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case g.DraggableRect:return a}},[n,a,u]),S=(0,j.useRef)(null),k=(0,j.useCallback)(()=>{let e=S.current;if(!e)return;let t=y.current.x*w.current.x,r=y.current.y*w.current.y;e.scrollBy(t,r)},[]),N=(0,j.useMemo)(()=>s===v.TreeOrder?[...c].reverse():c,[s,c]);(0,j.useEffect)(()=>{if(!i||!c.length||!C)return void b();for(let e of N){if((null==l?void 0:l(e))===!1)continue;let t=d[c.indexOf(e)];if(!t)continue;let{direction:n,speed:a}=function(e,t,r,n,l){let{top:a,left:i,right:o,bottom:s}=r;void 0===n&&(n=10),void 0===l&&(l=eB);let{isTop:u,isBottom:c,isLeft:d,isRight:p}=e$(e),h={x:0,y:0},m={x:0,y:0},g={height:t.height*l.y,width:t.width*l.x};return!u&&a<=t.top+g.height?(h.y=f.Backward,m.y=n*Math.abs((t.top+g.height-a)/g.height)):!c&&s>=t.bottom-g.height&&(h.y=f.Forward,m.y=n*Math.abs((t.bottom-g.height-s)/g.height)),!p&&o>=t.right-g.width?(h.x=f.Forward,m.x=n*Math.abs((t.right-g.width-o)/g.width)):!d&&i<=t.left+g.width&&(h.x=f.Backward,m.x=n*Math.abs((t.left+g.width-i)/g.width)),{direction:h,speed:m}}(e,t,C,r,h);for(let e of["x","y"])m[e][n[e]]||(a[e]=0,n[e]=0);if(a.x>0||a.y>0){b(),S.current=e,x(k,o),y.current=a,w.current=n;return}}y.current={x:0,y:0},w.current={x:0,y:0},b()},[r,k,l,b,i,o,JSON.stringify(C),JSON.stringify(m),x,c,N,d,JSON.stringify(h)])}({...ej,delta:K,draggingRect:e1,pointerCoordinates:eY,scrollableAncestors:eq,scrollableAncestorRects:eG});let tb=(0,j.useMemo)(()=>({active:Y,activeNode:eb,activeNodeRect:eS,activatorEvent:eo,collisions:e9,containerNodeRect:ek,dragOverlay:eL,draggableNodes:H,droppableContainers:W,droppableRects:eh,over:ti,measureDroppableContainers:eg,scrollableAncestors:eq,scrollableAncestorRects:eG,measuringConfiguration:ep,measuringScheduled:ev,windowRect:eV}),[Y,eb,eS,eo,e9,ek,eL,H,W,eh,ti,eg,eq,eG,ep,ev,eV]),ty=(0,j.useMemo)(()=>({activatorEvent:eo,activators:tx,active:Y,activeNodeRect:eS,ariaDescribedById:{draggable:ed},dispatch:I,draggableNodes:H,over:ti,measureDroppableContainers:eg}),[eo,tx,Y,eS,I,ed,H,ti,eg]);return j.default.createElement(em.Provider,{value:O},j.default.createElement(ts.Provider,{value:ty},j.default.createElement(tu.Provider,{value:tb},j.default.createElement(tp.Provider,{value:th},E)),j.default.createElement(tf,{disabled:(null==k?void 0:k.restoreFocus)===!1})),j.default.createElement(ex,{...k,hiddenTextDescribedById:ed}))}),tm=(0,j.createContext)(null),tg="button",tv={timeout:25};function tx(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:l}=e,a=el("Droppable"),{active:i,dispatch:o,over:s,measureDroppableContainers:u}=(0,j.useContext)(ts),c=(0,j.useRef)({disabled:r}),f=(0,j.useRef)(!1),p=(0,j.useRef)(null),h=(0,j.useRef)(null),{disabled:m,updateMeasurementsFor:g,timeout:v}={...tv,...l},x=Q(null!=g?g:n),b=e3({callback:(0,j.useCallback)(()=>{if(!f.current){f.current=!0;return}null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),h.current=null},v)},[v]),disabled:m||!i}),[y,w]=et((0,j.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),f.current=!1),e&&b.observe(e))},[b])),C=Q(t);return(0,j.useEffect)(()=>{b&&y.current&&(b.disconnect(),f.current=!1,b.observe(y.current))},[y,b]),(0,j.useEffect)(()=>(o({type:d.RegisterDroppable,element:{id:n,key:a,disabled:r,node:y,rect:p,data:C}}),()=>o({type:d.UnregisterDroppable,key:a,id:n})),[n]),(0,j.useEffect)(()=>{r!==c.current.disabled&&(o({type:d.SetDroppableDisabled,id:n,key:a,disabled:r}),c.current.disabled=r)},[n,a,r,o]),{active:i,rect:p,isOver:(null==s?void 0:s.id)===n,node:y,over:s,setNodeRef:w}}let tb={position:"fixed",touchAction:"none"},ty=e=>es(e)?"transform 250ms ease":void 0;t={styles:{active:{opacity:"0"}}},e=>{let{active:r,dragOverlay:n}=e,l={},{styles:a,className:i}=t;if(null!=a&&a.active)for(let[e,t]of Object.entries(a.active))void 0!==t&&(l[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,t));if(null!=a&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))void 0!==t&&n.node.style.setProperty(e,t);return null!=i&&i.active&&r.node.classList.add(i.active),null!=i&&i.dragOverlay&&n.node.classList.add(i.dragOverlay),function(){for(let[e,t]of Object.entries(l))r.node.style.setProperty(e,t);null!=i&&i.active&&r.node.classList.remove(i.active)}};var tw=e.i(46349),tw=tw;let tj=(0,R.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var tC=e.i(41071),tS=e.i(16019),tk=e.i(50570),tN=e.i(88699),tE=e.i(55146);function tD({category:e,level:t=0,activeId:r,expanded:n,toggleExpand:l,handleDelete:a,children:i,isEditing:o,onInternalRenameStart:s,onRenameSubmit:u,onRenameCancel:c}){let d=j.default.Children.count(i)>0,f="folder"===e.icon||d,[p,h]=(0,j.useState)(e.name),{attributes:m,listeners:g,setNodeRef:v,transform:x}=function(e){let{id:t,data:r,disabled:n=!1,attributes:l}=e,a=el("Draggable"),{activators:i,activatorEvent:o,active:s,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=(0,j.useContext)(ts),{role:p=tg,roleDescription:h="draggable",tabIndex:m=0}=null!=l?l:{},g=(null==s?void 0:s.id)===t,v=(0,j.useContext)(g?tp:tm),[x,b]=et(),[y,w]=et(),C=(0,j.useMemo)(()=>i.reduce((e,r)=>{let{eventName:n,handler:l}=r;return e[n]=e=>{l(e,t)},e},{}),[i,t]),S=Q(r);return J(()=>(d.set(t,{id:t,key:a,node:x,activatorNode:y,data:S}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:s,activatorEvent:o,activeNodeRect:u,attributes:(0,j.useMemo)(()=>({role:p,tabIndex:m,"aria-disabled":n,"aria-pressed":!!g&&p===tg||void 0,"aria-roledescription":h,"aria-describedby":c.draggable}),[n,p,m,g,h,c.draggable]),isDragging:g,listeners:n?void 0:C,node:x,over:f,setNodeRef:b,setActivatorNodeRef:w,transform:v}}({id:e.id,data:{type:"category",category:e}}),{setNodeRef:b,isOver:y}=tx({id:e.id,disabled:!f,data:{type:"folder",category:e}}),C=x?{transform:ec.Translate.toString(x),zIndex:50}:void 0;return(0,w.jsxs)("div",{ref:b,className:(0,D.cn)("rounded-md transition-colors",y&&"bg-sidebar-accent/30 box-border border-2 border-primary/20"),children:[(0,w.jsxs)("div",{ref:v,style:C,className:"flex items-center gap-1 group/item relative pr-7 py-1",children:[(0,w.jsx)("div",{...g,...m,className:"opacity-0 group-hover/item:opacity-50 hover:!opacity-100 cursor-grab px-1",children:(0,w.jsx)(tk.GripVertical,{className:"h-3 w-3 text-muted-foreground"})}),d?(0,w.jsx)("button",{onClick:t=>l(e.id,t),className:"p-1 hover:bg-sidebar-accent rounded-sm text-muted-foreground transition-colors shrink-0",children:n?(0,w.jsx)(tj,{className:"h-3 w-3"}):(0,w.jsx)(tw.default,{className:"h-3 w-3"})}):(0,w.jsx)("div",{className:"w-5 shrink-0"}),o?(0,w.jsx)("div",{className:"flex-1 px-2 py-0.5",children:(0,w.jsx)("input",{autoFocus:!0,value:p,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u(p),"Escape"===e.key&&c()},onBlur:()=>u(p),className:"w-full text-sm bg-background border rounded px-1 h-7 focus:outline-none focus:ring-1 focus:ring-primary",onClick:e=>{e.preventDefault(),e.stopPropagation()}})}):(0,w.jsxs)(N.default,{href:`/category/${e.id}`,draggable:!1,className:(0,D.cn)("flex-1 flex items-center gap-2 px-2 py-1.5 text-sm font-medium rounded-md hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors truncate",r===e.id&&"bg-sidebar-accent text-sidebar-accent-foreground"),children:[(0,w.jsx)("span",{className:(0,D.cn)("mr-2 shrink-0",!f&&"text-muted-foreground"),children:f?(0,w.jsx)(L.Folder,{className:"h-4 w-4"}):(0,w.jsx)(I.Hash,{className:"h-4 w-4"})}),(0,w.jsx)("span",{className:"truncate",children:e.name})]}),(0,w.jsx)("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 opacity-0 group-hover/item:opacity-100 transition-opacity",children:(0,w.jsxs)(tE.DropdownMenu,{modal:!1,children:[(0,w.jsx)(tE.DropdownMenuTrigger,{asChild:!0,children:(0,w.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},className:"flex items-center justify-center h-6 w-6 text-muted-foreground hover:text-foreground hover:bg-background/80 rounded-sm cursor-pointer",children:(0,w.jsx)(tC.MoreHorizontal,{className:"h-3 w-3"})})}),(0,w.jsxs)(tE.DropdownMenuContent,{align:"end",children:[(0,w.jsxs)(tE.DropdownMenuItem,{onClick:t=>a(e.id,t),className:"text-red-500 focus:text-red-500 cursor-pointer",children:[(0,w.jsx)(tS.Trash,{className:"mr-2 h-4 w-4"}),"Delete"]}),(0,w.jsxs)(tE.DropdownMenuItem,{onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},className:"cursor-pointer",children:[(0,w.jsx)(tN.Pencil,{className:"mr-2 h-4 w-4"}),"Rename"]}),e.parentId&&(0,w.jsxs)(tE.DropdownMenuItem,{onClick:async t=>{t.preventDefault(),t.stopPropagation(),await B(e.id,null)},className:"cursor-pointer",children:[(0,w.jsx)(L.Folder,{className:"mr-2 h-4 w-4"}),"Move to Top Level"]})]})]})})]}),d&&n&&(0,w.jsx)("div",{className:"ml-4 pl-2 border-l border-sidebar-border mt-1 flex flex-col gap-1",children:i})]})}function tR({categories:e,forceExpand:t=!1}){let r=(0,E.usePathname)(),n=(0,E.useParams)().id,[l,a]=(0,j.useState)({}),[i,o]=(0,j.useState)(null),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,j.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(ey(e1,{activationConstraint:{distance:8}}),ey(eY)),u=(e,t)=>{t.preventDefault(),t.stopPropagation(),a(t=>({...t,[e]:!t[e]}))},c=async(e,t)=>{t.preventDefault(),t.stopPropagation(),window.confirm("Are you sure? This will delete all contents inside.")&&await $(e)},d=async(e,t)=>{if(o(null),t&&t.trim())try{await H(e,t)}catch(e){setTimeout(()=>{alert(e.message||"リネームに失敗しました")},10)}},{setNodeRef:f,isOver:p}=tx({id:"root-zone",data:{type:"root"}}),h=async e=>{let{active:t,over:r}=e;if(!r)return;let n=String(t.id),l=String(r.id);n!==l&&(console.log(`Moving ${n} to ${l}`),"root-zone"===l?await B(n,null):await B(n,l))},m=r=>e.filter(e=>e.parentId===r).map(e=>(0,w.jsx)(tD,{category:e,activeId:n,expanded:t||l[e.id]||!1,toggleExpand:u,handleDelete:c,isEditing:i===e.id,onInternalRenameStart:()=>o(e.id),onRenameSubmit:t=>d(e.id,t),onRenameCancel:()=>o(null),children:m(e.id)},e.id));return(0,w.jsx)(th,{sensors:s,collisionDetection:ek,onDragEnd:h,children:(0,w.jsxs)("div",{className:"flex flex-col gap-1 py-2 h-full",children:[(0,w.jsxs)(N.default,{href:"/",draggable:!1,className:(0,D.cn)("flex items-center gap-2 px-2 py-1.5 text-sm font-medium rounded-md hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors","/"===r&&!n&&"bg-sidebar-accent text-sidebar-accent-foreground"),children:[(0,w.jsx)(M,{className:"h-4 w-4"}),"All Notes"]}),(0,w.jsxs)("div",{className:"flex items-center justify-between px-2 mt-4 mb-2 group",children:[(0,w.jsx)("div",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Channels"}),(0,w.jsx)(F,{categories:e})]}),(0,w.jsx)("div",{ref:f,className:(0,D.cn)("flex flex-col gap-1 min-h-[100px] flex-1 pb-10 transition-colors rounded-md",p&&"bg-sidebar-accent/10 border-2 border-dashed border-sidebar-accent/50"),children:m(null)})]})})}var tM=e.i(59684),tP=e.i(78745),tP=tP,tz=e.i(37727);function tA({config:e}){let[t,r]=(0,j.useState)(!1),n=(0,E.useRouter)(),l=e.dataDir.split("/").pop()||"Notebook",a=async()=>{window.electron?.workspace&&await window.electron.workspace.select()},i=async e=>{window.electron?.workspace&&(await window.electron.workspace.switch(e),r(!1),n.push("/"),n.refresh())},o=async(e,t)=>{window.electron?.workspace&&confirm(`Remove "${t}" from list? (Folder will not be deleted)`)&&(await window.electron.workspace.remove(e),n.refresh())};return(0,w.jsxs)(tE.DropdownMenu,{open:t,onOpenChange:r,children:[(0,w.jsx)(tE.DropdownMenuTrigger,{asChild:!0,children:(0,w.jsxs)("div",{className:"flex items-center gap-3 px-2 py-1.5 rounded-md hover:bg-sidebar-accent/50 cursor-pointer transition-colors flex-1",children:[(0,w.jsx)("div",{className:"h-8 w-8 rounded-md bg-primary/10 flex items-center justify-center text-primary",children:(0,w.jsx)(L.Folder,{className:"h-4 w-4"})}),(0,w.jsxs)("div",{className:"flex flex-col items-start min-w-0",children:[(0,w.jsx)("span",{className:"text-sm font-medium truncate max-w-[120px]",children:l}),(0,w.jsx)("span",{className:"text-xs text-muted-foreground truncate max-w-[120px]",children:"Switch..."})]})]})}),(0,w.jsxs)(tE.DropdownMenuContent,{className:"w-56",align:"start",side:"top",children:[(0,w.jsx)(tE.DropdownMenuLabel,{children:"Notebooks"}),(0,w.jsx)(tE.DropdownMenuSeparator,{}),e.history.map(t=>{let r=t.split("/").pop(),n=t===e.dataDir;return(0,w.jsxs)(tE.DropdownMenuItem,{onSelect:()=>i(t),className:"flex justify-between group/item",children:[(0,w.jsx)("span",{className:"truncate max-w-[150px]",children:r}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,w.jsx)(tP.default,{className:"h-4 w-4"}),(0,w.jsx)("div",{role:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),o(t,r||"Notebook")},className:"opacity-0 group-hover/item:opacity-100 hover:text-destructive transition-opacity p-0.5",children:(0,w.jsx)(tz.X,{className:"h-3 w-3"})})]})]},t)}),(0,w.jsx)(tE.DropdownMenuSeparator,{}),(0,w.jsxs)(tE.DropdownMenuItem,{onSelect:a,children:[(0,w.jsx)(A.Plus,{className:"mr-2 h-4 w-4"}),"Add Notebook..."]})]})]})}let tI=(0,R.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),tL=(0,R.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var tO=e.i(63178);function tT(){let{setTheme:e}=(0,tO.useTheme)();return(0,w.jsxs)(tE.DropdownMenu,{children:[(0,w.jsx)(tE.DropdownMenuTrigger,{asChild:!0,children:(0,w.jsxs)(P.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",children:[(0,w.jsx)(tL,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,w.jsx)(tI,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,w.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,w.jsxs)(tE.DropdownMenuContent,{align:"end",children:[(0,w.jsx)(tE.DropdownMenuItem,{onClick:()=>e("light"),children:"Light"}),(0,w.jsx)(tE.DropdownMenuItem,{onClick:()=>e("dark"),children:"Dark"}),(0,w.jsx)(tE.DropdownMenuItem,{onClick:()=>e("extra-dark"),children:"Extra Dark"}),(0,w.jsx)(tE.DropdownMenuItem,{onClick:()=>e("system"),children:"System"})]})]})}var tF=e.i(7240);function t$({categories:e,config:t}){let[r,n]=(0,j.useState)(""),l=(e,t)=>t?e.map(e=>{let r=e.name.toLowerCase().includes(t.toLowerCase()),n=l(e.children||[],t),a=n.length>0;return r||a?{...e,children:n}:null}).filter(Boolean):e,a=l(e,r);return(0,w.jsxs)("div",{className:"flex flex-col w-full border-r bg-sidebar text-sidebar-foreground h-full",children:[(0,w.jsx)(tF.DraggableHeader,{className:"h-10 shrink-0 w-full"}),(0,w.jsx)("div",{className:"px-3 pb-2",children:(0,w.jsx)(k,{value:r,onChange:n})}),(0,w.jsx)(tM.ScrollArea,{className:"flex-1",children:(0,w.jsx)("div",{className:"p-3 pt-0",children:(0,w.jsx)(tR,{categories:a,forceExpand:!!r})})}),(0,w.jsxs)("div",{className:"p-3 border-t bg-sidebar-accent/5 flex items-center justify-between",children:[(0,w.jsx)(tA,{config:t}),(0,w.jsx)(tT,{})]})]})}e.s(["SidebarContainer",()=>t$],8718)},75738,e=>{"use strict";var t=e.i(18050),r=e.i(71645),n=e.i(18566),l=e.i(18789),a=e.i(95187),i=(0,a.createServerReference)("403698dc647883b65a86904e27217d704fb65c31a1",a.callServer,void 0,a.findSourceMapURL,"getMemo"),o=(0,a.createServerReference)("60ded244b52eeede9502a4575392cda1b0a217ef0f",a.callServer,void 0,a.findSourceMapURL,"addComment"),s=(0,a.createServerReference)("607c70bacdee3c95c523bb53006e5acee76ff02714",a.callServer,void 0,a.findSourceMapURL,"deleteComment"),u=e.i(75254);let c=(0,u.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),d=(0,u.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var f=e.i(78583),p=e.i(37727),h=e.i(22016),m=e.i(19455),g=e.i(7240),v=e.i(93479),x=e.i(92471),b=e.i(7233),y=e.i(91918),w=e.i(25913),j=e.i(75157);let C=(0,w.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function S({className:e,variant:r,asChild:n=!1,...l}){let a=n?y.Slot:"span";return(0,t.jsx)(a,{"data-slot":"badge",className:(0,j.cn)(C({variant:r}),e),...l})}var k=/[\\\/_+.#"@\[\(\{&]/,N=/[\\\/_+.#"@\[\(\{&]/g,E=/[\s-]/,D=/[\s-]/g;function R(e){return e.toLowerCase().replace(D," ")}var M=e.i(26999);e.i(74080);var P=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let l=(0,y.createSlot)(`Primitive.${n}`),a=r.forwardRef((e,r)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?l:n,{...i,ref:r})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{}),z=e.i(10772),A=e.i(20783),I='[cmdk-group=""]',L='[cmdk-group-items=""]',O='[cmdk-item=""]',T=`${O}:not([aria-disabled="true"])`,F="cmdk-item-select",$="data-value",B=(e,t,r)=>{var n;return n=e,function e(t,r,n,l,a,i,o){if(i===r.length)return a===t.length?1:.99;var s=`${a},${i}`;if(void 0!==o[s])return o[s];for(var u,c,d,f,p=l.charAt(i),h=n.indexOf(p,a),m=0;h>=0;)(u=e(t,r,n,l,h+1,i+1,o))>m&&(h===a?u*=1:k.test(t.charAt(h-1))?(u*=.8,(d=t.slice(a,h-1).match(N))&&a>0&&(u*=Math.pow(.999,d.length))):E.test(t.charAt(h-1))?(u*=.9,(f=t.slice(a,h-1).match(D))&&a>0&&(u*=Math.pow(.999,f.length))):(u*=.17,a>0&&(u*=Math.pow(.999,h-a))),t.charAt(h)!==r.charAt(i)&&(u*=.9999)),(u<.1&&n.charAt(h-1)===l.charAt(i+1)||l.charAt(i+1)===l.charAt(i)&&n.charAt(h-1)!==l.charAt(i))&&.1*(c=e(t,r,n,l,h+1,i+2,o))>u&&(u=.1*c),u>m&&(m=u),h=n.indexOf(p,h+1);return o[s]=m,m}(n=r&&r.length>0?`${n+" "+r.join(" ")}`:n,t,R(n),R(t),0,0,{})},H=r.createContext(void 0),U=r.createContext(void 0),_=r.createContext(void 0),K=r.forwardRef((e,t)=>{let n=ee(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=ee(()=>new Set),a=ee(()=>new Map),i=ee(()=>new Map),o=ee(()=>new Set),s=Z(e),{label:u,children:c,value:d,onValueChange:f,filter:p,shouldFilter:h,loop:m,disablePointerSelection:g=!1,vimBindings:v=!0,...x}=e,b=(0,z.useId)(),y=(0,z.useId)(),w=(0,z.useId)(),j=r.useRef(null),C=en();Q(()=>{if(void 0!==d){let e=d.trim();n.current.value=e,S.emit()}},[d]),Q(()=>{C(6,M)},[]);let S=r.useMemo(()=>({subscribe:e=>(o.current.add(e),()=>o.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var l,a,i,o;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)R(),E(),C(1,D);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(w);e?e.focus():null==(l=document.getElementById(b))||l.focus()}if(C(7,()=>{var e;n.current.selectedItemId=null==(e=A())?void 0:e.id,S.emit()}),r||C(5,M),(null==(a=s.current)?void 0:a.value)!==void 0){null==(o=(i=s.current).onValueChange)||o.call(i,null!=t?t:"");return}}S.emit()}},emit:()=>{o.current.forEach(e=>e())}}),[]),k=r.useMemo(()=>({value:(e,t,r)=>{var l;t!==(null==(l=i.current.get(e))?void 0:l.value)&&(i.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,N(t,r)),C(2,()=>{E(),S.emit()}))},item:(e,t)=>(l.current.add(e),t&&(a.current.has(t)?a.current.get(t).add(e):a.current.set(t,new Set([e]))),C(3,()=>{R(),E(),n.current.value||D(),S.emit()}),()=>{i.current.delete(e),l.current.delete(e),n.current.filtered.items.delete(e);let t=A();C(4,()=>{R(),(null==t?void 0:t.getAttribute("id"))===e&&D(),S.emit()})}),group:e=>(a.current.has(e)||a.current.set(e,new Set),()=>{i.current.delete(e),a.current.delete(e)}),filter:()=>s.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:b,inputId:w,labelId:y,listInnerRef:j}),[]);function N(e,t){var r,l;let a=null!=(l=null==(r=s.current)?void 0:r.filter)?l:B;return e?a(e,n.current.search,t):0}function E(){if(!n.current.search||!1===s.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(r=>{let n=a.current.get(r),l=0;n.forEach(t=>{l=Math.max(e.get(t),l)}),t.push([r,l])});let r=j.current;_().sort((t,r)=>{var n,l;let a=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(l=e.get(a))?l:0)}).forEach(e=>{let t=e.closest(L);t?t.appendChild(e.parentElement===t?e:e.closest(`${L} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${L} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=j.current)?void 0:t.querySelector(`${I}[${$}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function D(){let e=_().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute($);S.setState("value",t||void 0)}function R(){var e,t,r,o;if(!n.current.search||!1===s.current.shouldFilter){n.current.filtered.count=l.current.size;return}n.current.filtered.groups=new Set;let u=0;for(let a of l.current){let l=N(null!=(t=null==(e=i.current.get(a))?void 0:e.value)?t:"",null!=(o=null==(r=i.current.get(a))?void 0:r.keywords)?o:[]);n.current.filtered.items.set(a,l),l>0&&u++}for(let[e,t]of a.current)for(let r of t)if(n.current.filtered.items.get(r)>0){n.current.filtered.groups.add(e);break}n.current.filtered.count=u}function M(){var e,t,r;let n=A();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(I))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function A(){var e;return null==(e=j.current)?void 0:e.querySelector(`${O}[aria-selected="true"]`)}function _(){var e;return Array.from((null==(e=j.current)?void 0:e.querySelectorAll(T))||[])}function K(e){let t=_()[e];t&&S.setState("value",t.getAttribute($))}function W(e){var t;let r=A(),n=_(),l=n.findIndex(e=>e===r),a=n[l+e];null!=(t=s.current)&&t.loop&&(a=l+e<0?n[n.length-1]:l+e===n.length?n[0]:n[l+e]),a&&S.setState("value",a.getAttribute($))}function V(e){let t=A(),r=null==t?void 0:t.closest(I),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,I):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,I))?void 0:r.querySelector(T);n?S.setState("value",n.getAttribute($)):W(e)}let q=()=>K(_().length-1),G=e=>{e.preventDefault(),e.metaKey?q():e.altKey?V(1):W(1)},X=e=>{e.preventDefault(),e.metaKey?K(0):e.altKey?V(-1):W(-1)};return r.createElement(P.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=x.onKeyDown)||t.call(x,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":v&&e.ctrlKey&&G(e);break;case"ArrowDown":G(e);break;case"p":case"k":v&&e.ctrlKey&&X(e);break;case"ArrowUp":X(e);break;case"Home":e.preventDefault(),K(0);break;case"End":e.preventDefault(),q();break;case"Enter":{e.preventDefault();let t=A();if(t){let e=new Event(F);t.dispatchEvent(e)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:ea},u),el(e,e=>r.createElement(U.Provider,{value:S},r.createElement(H.Provider,{value:k},e))))}),W=r.forwardRef((e,t)=>{var n,l;let a=(0,z.useId)(),i=r.useRef(null),o=r.useContext(_),s=r.useContext(H),u=Z(e),c=null!=(l=null==(n=u.current)?void 0:n.forceMount)?l:null==o?void 0:o.forceMount;Q(()=>{if(!c)return s.item(a,null==o?void 0:o.id)},[c]);let d=er(a,i,[e.value,e.children,i],e.keywords),f=r.useContext(U),p=et(e=>e.value&&e.value===d.current),h=et(e=>!!c||!1===s.filter()||!e.search||e.filtered.items.get(a)>0);function m(){var e,t;g(),null==(t=(e=u.current).onSelect)||t.call(e,d.current)}function g(){f.setState("value",d.current,!0)}if(r.useEffect(()=>{let t=i.current;if(!(!t||e.disabled))return t.addEventListener(F,m),()=>t.removeEventListener(F,m)},[h,e.onSelect,e.disabled]),!h)return null;let{disabled:v,value:x,onSelect:b,forceMount:y,keywords:w,...j}=e;return r.createElement(P.div,{ref:(0,A.composeRefs)(i,t),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||s.getDisablePointerSelection()?void 0:g,onClick:v?void 0:m},e.children)}),V=r.forwardRef((e,t)=>{let{heading:n,children:l,forceMount:a,...i}=e,o=(0,z.useId)(),s=r.useRef(null),u=r.useRef(null),c=(0,z.useId)(),d=r.useContext(H),f=et(e=>!!a||!1===d.filter()||!e.search||e.filtered.groups.has(o));Q(()=>d.group(o),[]),er(o,s,[e.value,e.heading,u]);let p=r.useMemo(()=>({id:o,forceMount:a}),[a]);return r.createElement(P.div,{ref:(0,A.composeRefs)(s,t),...i,"cmdk-group":"",role:"presentation",hidden:!f||void 0},n&&r.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),el(e,e=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},r.createElement(_.Provider,{value:p},e))))}),q=r.forwardRef((e,t)=>{let{alwaysRender:n,...l}=e,a=r.useRef(null),i=et(e=>!e.search);return n||i?r.createElement(P.div,{ref:(0,A.composeRefs)(a,t),...l,"cmdk-separator":"",role:"separator"}):null}),G=r.forwardRef((e,t)=>{let{onValueChange:n,...l}=e,a=null!=e.value,i=r.useContext(U),o=et(e=>e.search),s=et(e=>e.selectedItemId),u=r.useContext(H);return r.useEffect(()=>{null!=e.value&&i.setState("search",e.value)},[e.value]),r.createElement(P.input,{ref:t,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":s,id:u.inputId,type:"text",value:a?e.value:o,onChange:e=>{a||i.setState("search",e.target.value),null==n||n(e.target.value)}})}),X=r.forwardRef((e,t)=>{let{children:n,label:l="Suggestions",...a}=e,i=r.useRef(null),o=r.useRef(null),s=et(e=>e.selectedItemId),u=r.useContext(H);return r.useEffect(()=>{if(o.current&&i.current){let e=o.current,t=i.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),r.createElement(P.div,{ref:(0,A.composeRefs)(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":l,id:u.listId},el(e,e=>r.createElement("div",{ref:(0,A.composeRefs)(o,u.listInnerRef),"cmdk-list-sizer":""},e)))}),Y=r.forwardRef((e,t)=>{let{open:n,onOpenChange:l,overlayClassName:a,contentClassName:i,container:o,...s}=e;return r.createElement(M.Root,{open:n,onOpenChange:l},r.createElement(M.Portal,{container:o},r.createElement(M.Overlay,{"cmdk-overlay":"",className:a}),r.createElement(M.Content,{"aria-label":e.label,"cmdk-dialog":"",className:i},r.createElement(K,{ref:t,...s}))))}),J=Object.assign(K,{List:X,Item:W,Input:G,Group:V,Separator:q,Dialog:Y,Empty:r.forwardRef((e,t)=>et(e=>0===e.filtered.count)?r.createElement(P.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:r.forwardRef((e,t)=>{let{progress:n,children:l,label:a="Loading...",...i}=e;return r.createElement(P.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},el(e,e=>r.createElement("div",{"aria-hidden":!0},e)))})});function Z(e){let t=r.useRef(e);return Q(()=>{t.current=e}),t}var Q="undefined"==typeof window?r.useEffect:r.useLayoutEffect;function ee(e){let t=r.useRef();return void 0===t.current&&(t.current=e()),t}function et(e){let t=r.useContext(U),n=()=>e(t.snapshot());return r.useSyncExternalStore(t.subscribe,n,n)}function er(e,t,n,l=[]){let a=r.useRef(),i=r.useContext(H);return Q(()=>{var r;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():a.current}})(),s=l.map(e=>e.trim());i.value(e,o,s),null==(r=t.current)||r.setAttribute($,o),a.current=o}),a}var en=()=>{let[e,t]=r.useState(),n=ee(()=>new Map);return Q(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function el({asChild:e,children:t},n){let l;return e&&r.isValidElement(t)?r.cloneElement("function"==typeof(l=t.type)?l(t.props):"render"in l?l.render(t.props):t,{ref:t.ref},n(t.props.children)):n(t)}var ea={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},ei=e.i(54943),ei=ei;function eo({className:e,...r}){return(0,t.jsx)(J,{"data-slot":"command",className:(0,j.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function es({className:e,...r}){return(0,t.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,t.jsx)(ei.default,{className:"size-4 shrink-0 opacity-50"}),(0,t.jsx)(J.Input,{"data-slot":"command-input",className:(0,j.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function eu({className:e,...r}){return(0,t.jsx)(J.List,{"data-slot":"command-list",className:(0,j.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function ec({...e}){return(0,t.jsx)(J.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function ed({className:e,...r}){return(0,t.jsx)(J.Group,{"data-slot":"command-group",className:(0,j.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function ef({className:e,...r}){return(0,t.jsx)(J.Item,{"data-slot":"command-item",className:(0,j.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}e.i(76639);var ep=e.i(81140),eh=e.i(26330),em=e.i(3536),eg=e.i(65491),ev=e.i(53660),ex=e.i(74606),eb=e.i(96626);function ey(e){var n;let l,a=(n=e,(l=r.forwardRef((e,t)=>{let{children:n,...l}=e;if(r.isValidElement(n)){var a;let e,i,o=(a=n,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),s=function(e,t){let r={...t};for(let n in t){let l=e[n],a=t[n];/^on[A-Z]/.test(n)?l&&a?r[n]=(...e)=>{let t=a(...e);return l(...e),t}:l&&(r[n]=l):"style"===n?r[n]={...l,...a}:"className"===n&&(r[n]=[l,a].filter(Boolean).join(" "))}return{...e,...r}}(l,n.props);return n.type!==r.Fragment&&(s.ref=t?(0,A.composeRefs)(t,o):o),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${n}.SlotClone`,l),i=r.forwardRef((e,n)=>{let{children:l,...i}=e,o=r.Children.toArray(l),s=o.find(ej);if(s){let e=s.props.children,l=o.map(t=>t!==s?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(a,{...i,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,l):null})}return(0,t.jsx)(a,{...i,ref:n,children:l})});return i.displayName=`${e}.Slot`,i}var ew=Symbol("radix.slottable");function ej(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ew}var eC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let l=ey(`Primitive.${n}`),a=r.forwardRef((e,r)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?l:n,{...i,ref:r})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{}),eS=e.i(69340),ek=e.i(86312),eN=e.i(85369),eE="Popover",[eD,eR]=function(e,n=[]){let l=[],a=()=>{let t=l.map(e=>r.createContext(e));return function(n){let l=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:l}}),[n,l])}};return a.scopeName=e,[function(n,a){let i=r.createContext(a),o=l.length;l=[...l,a];let s=n=>{let{scope:l,children:a,...s}=n,u=l?.[e]?.[o]||i,c=r.useMemo(()=>s,Object.values(s));return(0,t.jsx)(u.Provider,{value:c,children:a})};return s.displayName=n+"Provider",[s,function(t,l){let s=l?.[e]?.[o]||i,u=r.useContext(s);if(u)return u;if(void 0!==a)return a;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let l=n.reduce((t,{useScope:r,scopeName:n})=>{let l=r(e)[`__scope${n}`];return{...t,...l}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}(a,...n)]}(eE,[ev.createPopperScope]),eM=(0,ev.createPopperScope)(),[eP,ez]=eD(eE),eA=e=>{let{__scopePopover:n,children:l,open:a,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,u=eM(n),c=r.useRef(null),[d,f]=r.useState(!1),[p,h]=(0,eS.useControllableState)({prop:a,defaultProp:i??!1,onChange:o,caller:eE});return(0,t.jsx)(ev.Root,{...u,children:(0,t.jsx)(eP,{scope:n,contentId:(0,z.useId)(),triggerRef:c,open:p,onOpenChange:h,onOpenToggle:r.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:d,onCustomAnchorAdd:r.useCallback(()=>f(!0),[]),onCustomAnchorRemove:r.useCallback(()=>f(!1),[]),modal:s,children:l})})};eA.displayName=eE;var eI="PopoverAnchor";r.forwardRef((e,n)=>{let{__scopePopover:l,...a}=e,i=ez(eI,l),o=eM(l),{onCustomAnchorAdd:s,onCustomAnchorRemove:u}=i;return r.useEffect(()=>(s(),()=>u()),[s,u]),(0,t.jsx)(ev.Anchor,{...o,...a,ref:n})}).displayName=eI;var eL="PopoverTrigger",eO=r.forwardRef((e,r)=>{let{__scopePopover:n,...l}=e,a=ez(eL,n),i=eM(n),o=(0,A.useComposedRefs)(r,a.triggerRef),s=(0,t.jsx)(eC.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eG(a.open),...l,ref:o,onClick:(0,ep.composeEventHandlers)(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:(0,t.jsx)(ev.Anchor,{asChild:!0,...i,children:s})});eO.displayName=eL;var eT="PopoverPortal",[eF,e$]=eD(eT,{forceMount:void 0}),eB=e=>{let{__scopePopover:r,forceMount:n,children:l,container:a}=e,i=ez(eT,r);return(0,t.jsx)(eF,{scope:r,forceMount:n,children:(0,t.jsx)(eb.Presence,{present:n||i.open,children:(0,t.jsx)(ex.Portal,{asChild:!0,container:a,children:l})})})};eB.displayName=eT;var eH="PopoverContent",eU=r.forwardRef((e,r)=>{let n=e$(eH,e.__scopePopover),{forceMount:l=n.forceMount,...a}=e,i=ez(eH,e.__scopePopover);return(0,t.jsx)(eb.Presence,{present:l||i.open,children:i.modal?(0,t.jsx)(eK,{...a,ref:r}):(0,t.jsx)(eW,{...a,ref:r})})});eU.displayName=eH;var e_=ey("PopoverContent.RemoveScroll"),eK=r.forwardRef((e,n)=>{let l=ez(eH,e.__scopePopover),a=r.useRef(null),i=(0,A.useComposedRefs)(n,a),o=r.useRef(!1);return r.useEffect(()=>{let e=a.current;if(e)return(0,ek.hideOthers)(e)},[]),(0,t.jsx)(eN.RemoveScroll,{as:e_,allowPinchZoom:!0,children:(0,t.jsx)(eV,{...e,ref:i,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,ep.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),o.current||l.triggerRef.current?.focus()}),onPointerDownOutside:(0,ep.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;o.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,ep.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),eW=r.forwardRef((e,n)=>{let l=ez(eH,e.__scopePopover),a=r.useRef(!1),i=r.useRef(!1);return(0,t.jsx)(eV,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||l.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let r=t.target;l.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),eV=r.forwardRef((e,r)=>{let{__scopePopover:n,trapFocus:l,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...f}=e,p=ez(eH,n),h=eM(n);return(0,em.useFocusGuards)(),(0,t.jsx)(eg.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,t.jsx)(eh.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:(0,t.jsx)(ev.Content,{"data-state":eG(p.open),role:"dialog",id:p.contentId,...h,...f,ref:r,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eq="PopoverClose";function eG(e){return e?"open":"closed"}function eX({...e}){return(0,t.jsx)(eA,{"data-slot":"popover",...e})}function eY({...e}){return(0,t.jsx)(eO,{"data-slot":"popover-trigger",...e})}function eJ({className:e,align:r="center",sideOffset:n=4,...l}){return(0,t.jsx)(eB,{children:(0,t.jsx)(eU,{"data-slot":"popover-content",align:r,sideOffset:n,className:(0,j.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...l})})}r.forwardRef((e,r)=>{let{__scopePopover:n,...l}=e,a=ez(eq,n);return(0,t.jsx)(eC.button,{type:"button",...l,ref:r,onClick:(0,ep.composeEventHandlers)(e.onClick,()=>a.onOpenChange(!1))})}).displayName=eq,r.forwardRef((e,r)=>{let{__scopePopover:n,...l}=e,a=eM(n);return(0,t.jsx)(ev.Arrow,{...a,...l,ref:r})}).displayName="PopoverArrow";var eZ=(0,a.createServerReference)("60ff376a54db6e6cb53fc9ab95f93a9dc026b6a162",a.callServer,void 0,a.findSourceMapURL,"addTagToMemo"),eQ=(0,a.createServerReference)("40229b072f8a063ad09d49f156040a3708ba6c2bc5",a.callServer,void 0,a.findSourceMapURL,"searchTags");function e0({memoId:e,tags:n,onUpdate:l}){let[a,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),[u,c]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=setTimeout(()=>{o?eQ(o).then(e=>c(e)):c([])},300);return()=>clearTimeout(e)},[o]);let d=async t=>{try{await eZ(e,t),l(),i(!1),s(""),c([])}catch(e){console.error(e)}},f=u.filter(e=>!n.some(t=>t.id===e.id));return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-xs text-muted-foreground uppercase font-bold tracking-wider flex items-center gap-2",children:"Tags"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[n.map(e=>(0,t.jsx)(S,{variant:"secondary",className:"px-2 py-1 text-xs font-normal",children:e.name},e.id)),(0,t.jsxs)(eX,{open:a,onOpenChange:i,children:[(0,t.jsx)(eY,{asChild:!0,children:(0,t.jsxs)(m.Button,{variant:"outline",size:"sm",className:"h-6 text-xs text-muted-foreground border-dashed rounded-full px-2",children:[(0,t.jsx)(b.Plus,{className:"h-3 w-3 mr-1"})," Add Tag"]})}),(0,t.jsx)(eJ,{className:"p-0 w-[200px]",align:"start",children:(0,t.jsxs)(eo,{shouldFilter:!1,children:[(0,t.jsx)(es,{placeholder:"Search tags...",value:o,onValueChange:s,className:"h-8 text-xs"}),(0,t.jsxs)(eu,{children:[(0,t.jsx)(ec,{className:"py-2 px-2 text-xs text-muted-foreground",children:o?(0,t.jsxs)("div",{className:"px-2 py-1 text-xs cursor-pointer hover:bg-accent rounded-sm flex items-center gap-1",onClick:()=>d(o),children:[(0,t.jsx)(b.Plus,{className:"h-3 w-3"}),' Create "',o,'"']}):(0,t.jsx)("span",{children:"Type to search..."})}),f.length>0&&(0,t.jsx)(ed,{heading:"Suggestions",children:f.map(e=>(0,t.jsx)(ef,{value:e.name,onSelect:()=>d(e.name),className:"text-xs",children:e.name},e.id))})]})]})})]})]})]})}function e1(){let e=(0,n.useSearchParams)(),a=(0,n.usePathname)(),u=e.get("memoId"),[b,y]=(0,r.useState)(null),[w,j]=(0,r.useState)(!1),[C,S]=(0,r.useState)(""),[k,N]=(0,r.useState)(!1),E=()=>{u&&i(u).then(e=>y(e))};(0,r.useEffect)(()=>{if(!u)return void y(null);j(!0),i(u).then(e=>{y(e)}).finally(()=>j(!1));let e=e=>{e.detail&&e.detail.memoId===u&&E()};return window.addEventListener("memo-updated",e),()=>window.removeEventListener("memo-updated",e)},[u]);let D=async e=>{if(e.preventDefault(),C.trim()&&b){N(!0);try{await o(b.id,C),S(""),E()}catch(e){console.error(e)}finally{N(!1)}}};return u?(0,t.jsxs)("div",{className:"w-full border-l bg-background/80 h-full flex flex-col shrink-0 animate-in slide-in-from-right-10 duration-200 backdrop-blur-md z-20",children:[(0,t.jsxs)(g.DraggableHeader,{className:"p-4 border-b h-14 flex items-center justify-between shadow-sm bg-background/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.FileText,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-bold",children:"Details"})]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(h.default,{href:a,className:"no-drag",style:{WebkitAppRegion:"no-drag"},children:(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",children:(0,t.jsx)(p.X,{className:"h-4 w-4"})})})]}),(0,t.jsx)("div",{className:"flex-1 p-4 overflow-y-auto min-h-0",children:w?(0,t.jsx)("div",{className:"flex justify-center py-10",children:(0,t.jsx)(c,{className:"animate-spin text-muted-foreground"})}):b?(0,t.jsxs)("div",{className:"space-y-6 min-w-0",children:[(0,t.jsx)("h2",{className:"text-xl font-bold break-words leading-tight",children:b.title||"Untitled"}),(0,t.jsxs)("div",{className:"space-y-3 pb-4 border-b",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground uppercase font-bold tracking-wider",children:"Information"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[(0,t.jsx)(d,{className:"h-4 w-4 text-muted-foreground"}),new Date(b.createdAt).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase font-bold tracking-wider",children:"Content"}),(0,t.jsx)("div",{className:"p-3 bg-muted/30 rounded-lg text-sm border shadow-sm max-h-60 overflow-y-auto break-all [&>p]:mb-2 [&>p:last-child]:mb-0 [&>ul]:list-disc [&>ul]:pl-4 [&>ol]:list-decimal [&>ol]:pl-4 [&>h1]:text-lg [&>h1]:font-bold [&>blockquote]:border-l-2 [&>blockquote]:pl-2 [&>code]:bg-muted [&>code]:px-1 [&>code]:rounded",children:(0,t.jsx)(l.default,{components:{a:({node:e,...r})=>(0,t.jsx)("span",{className:"text-primary underline cursor-pointer",...r})},children:b.content})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-xs text-muted-foreground uppercase font-bold tracking-wider flex items-center justify-between",children:["Attachments",(0,t.jsxs)("span",{className:"text-xs font-normal opacity-70",children:["(",b.attachments.length,")"]})]}),0===b.attachments.length?(0,t.jsx)("div",{className:"p-4 border border-dashed rounded-lg text-center",children:(0,t.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"No files attached"})}):(0,t.jsx)("div",{className:"space-y-2",children:b.attachments.map(e=>(0,t.jsx)(x.FilePreview,{attachment:e},e.id))})]}),(0,t.jsx)(e0,{memoId:b.id,tags:b.tags,onUpdate:E}),(0,t.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground uppercase font-bold tracking-wider border-t pt-4",children:"Comments"}),(0,t.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:b.comments&&b.comments.length>0?b.comments.map(e=>(0,t.jsxs)("div",{className:"text-sm bg-muted/40 p-2 rounded-md group relative",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:new Date(e.createdAt).toLocaleString()}),(0,t.jsx)("button",{onClick:async()=>{confirm("Delete comment?")&&(await s(e.id,b.id),E())},className:"opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-destructive transition-opacity",children:(0,t.jsx)(p.X,{className:"h-3 w-3"})})]}),(0,t.jsx)("div",{className:"[&>p]:mb-1 [&>p:last-child]:mb-0",children:(0,t.jsx)(l.default,{children:e.content})})]},e.id)):(0,t.jsx)("div",{className:"text-xs text-muted-foreground italic",children:"No comments"})}),(0,t.jsxs)("form",{onSubmit:D,className:"flex flex-col gap-2",children:[(0,t.jsx)(v.Input,{placeholder:"Write a comment...",value:C,onChange:e=>S(e.target.value),disabled:k,className:"text-sm"}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(m.Button,{size:"sm",type:"submit",disabled:k||!C.trim(),children:"Post"})})]})]})]}):(0,t.jsx)("div",{className:"text-center py-10 text-muted-foreground",children:"Memo not found"})})]}):(0,t.jsxs)("div",{className:"w-full border-l bg-background/50 h-full text-muted-foreground flex flex-col items-center justify-center p-4 text-center backdrop-blur-sm shrink-0",children:[(0,t.jsx)("div",{className:"bg-muted/50 rounded-full p-4 mb-4",children:(0,t.jsx)(f.FileText,{className:"h-8 w-8 opacity-40"})}),(0,t.jsx)("p",{className:"text-sm font-medium opacity-70",children:"Select a memo to view details"})]})}e.s(["DetailsSidebar",()=>e1],75738)},91745,e=>{"use strict";let t,r;var n=e.i(18050),l=e.i(71645),a=e.i(50570);let i=(0,l.createContext)(null);i.displayName="PanelGroupContext";let o="data-panel-group-direction",s="data-panel-group-id",u="data-resize-handle",c="data-panel-resize-handle-id",d=l.useLayoutEffect,f=l["useId".toString()],p="function"==typeof f?f:()=>null,h=0;function m(e=null){let t=p(),r=(0,l.useRef)(e||t||null);return null===r.current&&(r.current=""+h++),null!=e?e:r.current}function g({children:e,className:t="",collapsedSize:r,collapsible:n,defaultSize:a,forwardedRef:o,id:u,maxSize:c,minSize:f,onCollapse:p,onExpand:h,onResize:g,order:v,style:x,tagName:b="div",...y}){let w=(0,l.useContext)(i);if(null===w)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:j,expandPanel:C,getPanelSize:S,getPanelStyle:k,groupId:N,isPanelCollapsed:E,reevaluatePanelConstraints:D,registerPanel:R,resizePanel:M,unregisterPanel:P}=w,z=m(u),A=(0,l.useRef)({callbacks:{onCollapse:p,onExpand:h,onResize:g},constraints:{collapsedSize:r,collapsible:n,defaultSize:a,maxSize:c,minSize:f},id:z,idIsFromProps:void 0!==u,order:v});(0,l.useRef)({didLogMissingDefaultSizeWarning:!1}),d(()=>{let{callbacks:e,constraints:t}=A.current,l={...t};A.current.id=z,A.current.idIsFromProps=void 0!==u,A.current.order=v,e.onCollapse=p,e.onExpand=h,e.onResize=g,t.collapsedSize=r,t.collapsible=n,t.defaultSize=a,t.maxSize=c,t.minSize=f,(l.collapsedSize!==t.collapsedSize||l.collapsible!==t.collapsible||l.maxSize!==t.maxSize||l.minSize!==t.minSize)&&D(A.current,l)}),d(()=>{let e=A.current;return R(e),()=>{P(e)}},[v,z,R,P]),(0,l.useImperativeHandle)(o,()=>({collapse:()=>{j(A.current)},expand:e=>{C(A.current,e)},getId:()=>z,getSize:()=>S(A.current),isCollapsed:()=>E(A.current),isExpanded:()=>!E(A.current),resize:e=>{M(A.current,e)}}),[j,C,S,E,z,M]);let I=k(A.current,a);return(0,l.createElement)(b,{...y,children:e,className:t,id:z,style:{...I,...x},[s]:N,"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-id":z,"data-panel-size":parseFloat(""+I.flexGrow).toFixed(1)})}let v=(0,l.forwardRef)((e,t)=>(0,l.createElement)(g,{...e,forwardedRef:t}));g.displayName="Panel",v.displayName="forwardRef(Panel)";let x=null,b=-1,y=null;function w(e,r,n){var l,a,i;let o=function(e,t,r){let n=(t&P)!=0,l=(t&z)!=0,a=(t&A)!=0,i=(t&I)!=0;if(t){if(n)if(a)return"se-resize";else if(i)return"ne-resize";else return"e-resize";else if(l)if(a)return"sw-resize";else if(i)return"nw-resize";else return"w-resize";else if(a)return"s-resize";else if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,r,0);x!==o&&(x=o,null===y&&(y=document.createElement("style"),t&&y.setAttribute("nonce",t),document.head.appendChild(y)),b>=0&&(null==(i=y.sheet)||i.removeRule(b)),b=null!=(l=null==(a=y.sheet)?void 0:a.insertRule(`*{cursor: ${o} !important;}`))?l:-1)}function j(e){return"keydown"===e.type}function C(e){return e.type.startsWith("pointer")}function S(e){return e.type.startsWith("mouse")}function k(e){if(C(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(S(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}let N=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function E(e){let t=e.length;for(;t--;){let r=e[t];if(X(r,"Missing node"),function(e){var t;let r,n=getComputedStyle(e);return"fixed"===n.position||!!("auto"!==n.zIndex&&("static"!==n.position||"flex"===(r=getComputedStyle(null!=(t=M(e))?t:e).display)||"inline-flex"===r)||1>+n.opacity||"transform"in n&&"none"!==n.transform||"webkitTransform"in n&&"none"!==n.webkitTransform||"mixBlendMode"in n&&"normal"!==n.mixBlendMode||"filter"in n&&"none"!==n.filter||"webkitFilter"in n&&"none"!==n.webkitFilter||"isolation"in n&&"isolate"===n.isolation||N.test(n.willChange))||"touch"===n.webkitOverflowScrolling}(r))return r}return null}function D(e){return e&&Number(getComputedStyle(e).zIndex)||0}function R(e){let t=[];for(;e;)t.push(e),e=M(e);return t}function M(e){let{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}let P=1,z=2,A=4,I=8,L="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}(),O=[],T=!1,F=new Map,$=new Map,B=new Set;function H(e){let{target:t}=e,{x:r,y:n}=k(e);T=!0,W({target:t,x:r,y:n}),q(),O.length>0&&(G("down",e),V(),e.preventDefault(),K(t)||e.stopImmediatePropagation())}function U(e){let{x:t,y:r}=k(e);if(T&&"pointerleave"!==e.type&&0===e.buttons&&(T=!1,G("up",e)),!T){let{target:n}=e;W({target:n,x:t,y:r})}G("move",e),V(),O.length>0&&e.preventDefault()}function _(e){let{target:t}=e,{x:r,y:n}=k(e);$.clear(),T=!1,O.length>0&&(e.preventDefault(),K(t)||e.stopImmediatePropagation()),G("up",e),W({target:t,x:r,y:n}),V(),q()}function K(e){let t=e;for(;t;){if(t.hasAttribute(u))return!0;t=t.parentElement}return!1}function W({target:e,x:t,y:r}){O.splice(0);let n=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(n=e),B.forEach(e=>{let{element:l,hitAreaMargins:a}=e,i=l.getBoundingClientRect(),{bottom:o,left:s,right:u,top:c}=i,d=L?a.coarse:a.fine;if(t>=s-d&&t<=u+d&&r>=c-d&&r<=o+d){if(null!==n&&document.contains(n)&&l!==n&&!l.contains(n)&&!n.contains(l)&&function(e,t){let r;if(e===t)throw Error("Cannot compare node with itself");let n={a:R(e),b:R(t)};for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;X(r,"Stacking order can only be calculated for elements with a common ancestor");let l={a:D(E(n.a)),b:D(E(n.b))};if(l.a===l.b){let e=r.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)},l=e.length;for(;l--;){let r=e[l];if(r===t.a)return 1;if(r===t.b)return -1}}return Math.sign(l.a-l.b)}(n,l)>0){let e=n,t=!1;for(;e;){var f;if(e.contains(l))break;if(f=e.getBoundingClientRect(),f.x<i.x+i.width&&f.x+f.width>i.x&&f.y<i.y+i.height&&f.y+f.height>i.y){t=!0;break}e=e.parentElement}if(t)return}O.push(e)}})}function V(){let e=!1,t=!1;O.forEach(r=>{let{direction:n}=r;"horizontal"===n?e=!0:t=!0});let r=0;$.forEach(e=>{r|=e}),e&&t?w("intersection",r,T):e?w("horizontal",r,T):t?w("vertical",r,T):null!==y&&(document.head.removeChild(y),x=null,y=null,b=-1)}function q(){var e;null==(e=r)||e.abort();let t={capture:!0,signal:(r=new AbortController).signal};B.size&&(T?(O.length>0&&F.forEach((e,r)=>{let{body:n}=r;e>0&&(n.addEventListener("contextmenu",_,t),n.addEventListener("pointerleave",U,t),n.addEventListener("pointermove",U,t))}),F.forEach((e,r)=>{let{body:n}=r;n.addEventListener("pointerup",_,t),n.addEventListener("pointercancel",_,t)})):F.forEach((e,r)=>{let{body:n}=r;e>0&&(n.addEventListener("pointerdown",H,t),n.addEventListener("pointermove",U,t))}))}function G(e,t){B.forEach(r=>{let{setResizeHandlerState:n}=r;n(e,O.includes(r),t)})}function X(e,t){if(!e)throw console.error(t),Error(t)}function Y(e,t,r=10){return e.toFixed(r)===t.toFixed(r)?0:e>t?1:-1}function J(e,t,r=10){return 0===Y(e,t,r)}function Z(e,t,r){return 0===Y(e,t,r)}function Q({panelConstraints:e,panelIndex:t,size:r}){let n=e[t];X(null!=n,`Panel constraints not found for index ${t}`);let{collapsedSize:l=0,collapsible:a,maxSize:i=100,minSize:o=0}=n;return 0>Y(r,o)&&(r=a&&0>Y(r,(l+o)/2)?l:o),r=parseFloat((r=Math.min(i,r)).toFixed(10))}function ee({delta:e,initialLayout:t,panelConstraints:r,pivotIndices:n,prevLayout:l,trigger:a}){if(Z(e,0))return t;let i=[...t],[o,s]=n;X(null!=o,"Invalid first pivot index"),X(null!=s,"Invalid second pivot index");let u=0;if("keyboard"===a){{let n=e<0?s:o,l=r[n];X(l,`Panel constraints not found for index ${n}`);let{collapsedSize:a=0,collapsible:i,minSize:u=0}=l;if(i){let r=t[n];if(X(null!=r,`Previous layout not found for panel index ${n}`),Z(r,a)){let t=u-r;Y(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{let n=e<0?o:s,l=r[n];X(l,`No panel constraints found for index ${n}`);let{collapsedSize:a=0,collapsible:i,minSize:u=0}=l;if(i){let r=t[n];if(X(null!=r,`Previous layout not found for panel index ${n}`),Z(r,u)){let t=r-a;Y(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{let n=e<0?1:-1,l=e<0?s:o,a=0;for(;;){let e=t[l];if(X(null!=e,`Previous layout not found for panel index ${l}`),a+=Q({panelConstraints:r,panelIndex:l,size:100})-e,(l+=n)<0||l>=r.length)break}let i=Math.min(Math.abs(e),Math.abs(a));e=e<0?0-i:i}{let n=e<0?o:s;for(;n>=0&&n<r.length;){let l=Math.abs(e)-Math.abs(u),a=t[n];X(null!=a,`Previous layout not found for panel index ${n}`);let o=Q({panelConstraints:r,panelIndex:n,size:a-l});if(!Z(a,o)&&(u+=a-o,i[n]=o,u.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?n--:n++}}if(function(e,t,r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Z(e[r],t[r],void 0))return!1;return!0}(l,i))return l;{let n=e<0?s:o,l=t[n];X(null!=l,`Previous layout not found for panel index ${n}`);let a=l+u,c=Q({panelConstraints:r,panelIndex:n,size:a});if(i[n]=c,!Z(c,a)){let t=a-c,n=e<0?s:o;for(;n>=0&&n<r.length;){let l=i[n];X(null!=l,`Previous layout not found for panel index ${n}`);let a=Q({panelConstraints:r,panelIndex:n,size:l+t});if(Z(l,a)||(t-=a-l,i[n]=a),Z(t,0))break;e>0?n--:n++}}}return Z(i.reduce((e,t)=>t+e,0),100)?i:l}function et(e,t=document){return Array.from(t.querySelectorAll(`[${c}][data-panel-group-id="${e}"]`))}function er(e,t,r=document){let n=et(e,r).findIndex(e=>e.getAttribute(c)===t);return null!=n?n:null}function en(e,t,r){let n=er(e,t,r);return null!=n?[n,n+1]:[-1,-1]}function el(e,t=document){if((t instanceof HTMLElement||"object"==typeof t&&null!==t&&"tagName"in t&&"getAttribute"in t)&&t.dataset.panelGroupId==e)return t;let r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function ea(e,t=document){let r=t.querySelector(`[${c}="${e}"]`);return r||null}function ei(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function eo(e,t){let{x:r,y:n}=k(t);return"horizontal"===e?r:n}function es(e,t,r){t.forEach((t,n)=>{let l=e[n];X(l,`Panel data not found for index ${n}`);let{callbacks:a,constraints:i,id:o}=l,{collapsedSize:s=0,collapsible:u}=i,c=r[o];if(null==c||t!==c){r[o]=t;let{onCollapse:e,onExpand:n,onResize:l}=a;l&&l(t,c),u&&(e||n)&&(n&&(null==c||J(c,s))&&!J(t,s)&&n(),e&&(null==c||!J(c,s))&&J(t,s)&&e())}})}function eu(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function ec(e){try{if("undefined"!=typeof localStorage)e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function ed(e){return`react-resizable-panels:${e}`}function ef(e){return e.map(e=>{let{constraints:t,id:r,idIsFromProps:n,order:l}=e;return n?r:l?`${l}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function ep(e,t){try{let r=ed(e),n=t.getItem(r);if(n){let e=JSON.parse(n);if("object"==typeof e&&null!=e)return e}}catch(e){}return null}function eh(e,t,r,n,l){var a;let i=ed(e),o=ef(t),s=null!=(a=ep(e,l))?a:{};s[o]={expandToSizes:Object.fromEntries(r.entries()),layout:n};try{l.setItem(i,JSON.stringify(s))}catch(e){console.error(e)}}function em({layout:e,panelConstraints:t}){let r=[...e],n=r.reduce((e,t)=>e+t,0);if(r.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${r.map(e=>`${e}%`).join(", ")}`);if(!Z(n,100)&&r.length>0)for(let e=0;e<t.length;e++){let t=r[e];X(null!=t,`No layout data found for index ${e}`);let l=100/n*t;r[e]=l}let l=0;for(let e=0;e<t.length;e++){let n=r[e];X(null!=n,`No layout data found for index ${e}`);let a=Q({panelConstraints:t,panelIndex:e,size:n});n!=a&&(l+=n-a,r[e]=a)}if(!Z(l,0))for(let e=0;e<t.length;e++){let n=r[e];X(null!=n,`No layout data found for index ${e}`);let a=Q({panelConstraints:t,panelIndex:e,size:n+l});if(n!==a&&(l-=a-n,r[e]=a,Z(l,0)))break}return r}let eg={getItem:e=>(ec(eg),eg.getItem(e)),setItem:(e,t)=>{ec(eg),eg.setItem(e,t)}},ev={};function ex({autoSaveId:e=null,children:t,className:r="",direction:n,forwardedRef:a,id:u=null,onLayout:f=null,keyboardResizeBy:p=null,storage:h=eg,style:g,tagName:v="div",...x}){let b=m(u),y=(0,l.useRef)(null),[w,k]=(0,l.useState)(null),[N,E]=(0,l.useState)([]),D=function(){let[e,t]=(0,l.useState)(0);return(0,l.useCallback)(()=>t(e=>e+1),[])}(),R=(0,l.useRef)({}),M=(0,l.useRef)(new Map),L=(0,l.useRef)(0),O=(0,l.useRef)({autoSaveId:e,direction:n,dragState:w,id:b,keyboardResizeBy:p,onLayout:f,storage:h}),T=(0,l.useRef)({layout:N,panelDataArray:[],panelDataArrayChanged:!1});(0,l.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,l.useImperativeHandle)(a,()=>({getId:()=>O.current.id,getLayout:()=>{let{layout:e}=T.current;return e},setLayout:e=>{let{onLayout:t}=O.current,{layout:r,panelDataArray:n}=T.current,l=em({layout:e,panelConstraints:n.map(e=>e.constraints)});ei(r,l)||(E(l),T.current.layout=l,t&&t(l),es(n,l,R.current))}}),[]),d(()=>{O.current.autoSaveId=e,O.current.direction=n,O.current.dragState=w,O.current.id=b,O.current.onLayout=f,O.current.storage=h}),function({committedValuesRef:e,eagerValuesRef:t,groupId:r,layout:n,panelDataArray:a,panelGroupElement:i,setLayout:o}){(0,l.useRef)({didWarnAboutMissingResizeHandle:!1}),d(()=>{if(!i)return;let e=et(r,i);for(let t=0;t<a.length-1;t++){let{valueMax:r,valueMin:l,valueNow:i}=function({layout:e,panelsArray:t,pivotIndices:r}){let n=0,l=100,a=0,i=0,o=r[0];return X(null!=o,"No pivot index found"),t.forEach((e,t)=>{let{constraints:r}=e,{maxSize:s=100,minSize:u=0}=r;t===o?(n=u,l=s):(a+=u,i+=s)}),{valueMax:Math.min(l,100-a),valueMin:Math.max(n,100-i),valueNow:e[o]}}({layout:n,panelsArray:a,pivotIndices:[t,t+1]}),o=e[t];if(null==o);else{let e=a[t];X(e,`No panel data found for index "${t}"`),o.setAttribute("aria-controls",e.id),o.setAttribute("aria-valuemax",""+Math.round(r)),o.setAttribute("aria-valuemin",""+Math.round(l)),o.setAttribute("aria-valuenow",null!=i?""+Math.round(i):"")}}return()=>{e.forEach((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[r,n,a,i]),(0,l.useEffect)(()=>{if(!i)return;let e=t.current;X(e,"Eager values not found");let{panelDataArray:l}=e;X(null!=el(r,i),`No group found for id "${r}"`);let a=et(r,i);X(a,`No resize handles found for group id "${r}"`);let s=a.map(e=>{let t=e.getAttribute(c);X(t,"Resize handle element has no handle id attribute");let[a,s]=function(e,t,r,n=document){var l,a,i,o;let s=ea(t,n),u=et(e,n),c=s?u.indexOf(s):-1;return[null!=(l=null==(a=r[c])?void 0:a.id)?l:null,null!=(i=null==(o=r[c+1])?void 0:o.id)?i:null]}(r,t,l,i);if(null==a||null==s)return()=>{};let u=e=>{if(!e.defaultPrevented&&"Enter"===e.key){e.preventDefault();let s=l.findIndex(e=>e.id===a);if(s>=0){let e=l[s];X(e,`No panel data found for index ${s}`);let a=n[s],{collapsedSize:u=0,collapsible:c,minSize:d=0}=e.constraints;if(null!=a&&c){let e=ee({delta:Z(a,u)?d-u:u-a,initialLayout:n,panelConstraints:l.map(e=>e.constraints),pivotIndices:en(r,t,i),prevLayout:n,trigger:"keyboard"});n!==e&&o(e)}}}};return e.addEventListener("keydown",u),()=>{e.removeEventListener("keydown",u)}});return()=>{s.forEach(e=>e())}},[i,e,t,r,n,a,o])}({committedValuesRef:O,eagerValuesRef:T,groupId:b,layout:N,panelDataArray:T.current.panelDataArray,setLayout:E,panelGroupElement:y.current}),(0,l.useEffect)(()=>{let{panelDataArray:t}=T.current;if(e){if(0===N.length||N.length!==t.length)return;let r=ev[e];null==r&&(r=function(e,t=10){let r=null;return(...n)=>{null!==r&&clearTimeout(r),r=setTimeout(()=>{e(...n)},t)}}(eh,100),ev[e]=r),r(e,[...t],new Map(M.current),N,h)}},[e,N,h]),(0,l.useEffect)(()=>{});let F=(0,l.useCallback)(e=>{let{onLayout:t}=O.current,{layout:r,panelDataArray:n}=T.current;if(e.constraints.collapsible){let l=n.map(e=>e.constraints),{collapsedSize:a=0,panelSize:i,pivotIndices:o}=ew(n,e,r);if(X(null!=i,`Panel size not found for panel "${e.id}"`),!J(i,a)){M.current.set(e.id,i);let s=ee({delta:ey(n,e)===n.length-1?i-a:a-i,initialLayout:r,panelConstraints:l,pivotIndices:o,prevLayout:r,trigger:"imperative-api"});eu(r,s)||(E(s),T.current.layout=s,t&&t(s),es(n,s,R.current))}}},[]),B=(0,l.useCallback)((e,t)=>{let{onLayout:r}=O.current,{layout:n,panelDataArray:l}=T.current;if(e.constraints.collapsible){let a=l.map(e=>e.constraints),{collapsedSize:i=0,panelSize:o=0,minSize:s=0,pivotIndices:u}=ew(l,e,n),c=null!=t?t:s;if(J(o,i)){let t=M.current.get(e.id),i=null!=t&&t>=c?t:c,s=ee({delta:ey(l,e)===l.length-1?o-i:i-o,initialLayout:n,panelConstraints:a,pivotIndices:u,prevLayout:n,trigger:"imperative-api"});eu(n,s)||(E(s),T.current.layout=s,r&&r(s),es(l,s,R.current))}}},[]),H=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:r}=T.current,{panelSize:n}=ew(r,e,t);return X(null!=n,`Panel size not found for panel "${e.id}"`),n},[]),U=(0,l.useCallback)((e,t)=>{let{panelDataArray:r}=T.current,n=ey(r,e);return function({defaultSize:e,dragState:t,layout:r,panelData:n,panelIndex:l,precision:a=3}){let i=r[l];return{flexBasis:0,flexGrow:null==i?void 0!=e?e.toFixed(a):"1":1===n.length?"1":i.toFixed(a),flexShrink:1,overflow:"hidden",pointerEvents:null!==t?"none":void 0}}({defaultSize:t,dragState:w,layout:N,panelData:r,panelIndex:n})},[w,N]),_=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:r}=T.current,{collapsedSize:n=0,collapsible:l,panelSize:a}=ew(r,e,t);return X(null!=a,`Panel size not found for panel "${e.id}"`),!0===l&&J(a,n)},[]),K=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:r}=T.current,{collapsedSize:n=0,collapsible:l,panelSize:a}=ew(r,e,t);return X(null!=a,`Panel size not found for panel "${e.id}"`),!l||Y(a,n)>0},[]),W=(0,l.useCallback)(e=>{let{panelDataArray:t}=T.current;t.push(e),t.sort((e,t)=>{let r=e.order,n=t.order;return null==r&&null==n?0:null==r?-1:null==n?1:r-n}),T.current.panelDataArrayChanged=!0,D()},[D]);d(()=>{if(T.current.panelDataArrayChanged){T.current.panelDataArrayChanged=!1;let{autoSaveId:r,onLayout:n,storage:l}=O.current,{layout:a,panelDataArray:i}=T.current,o=null;if(r){var e,t;let n=null!=(t=(null!=(e=ep(r,l))?e:{})[ef(i)])?t:null;n&&(M.current=new Map(Object.entries(n.expandToSizes)),o=n.layout)}null==o&&(o=function({panelDataArray:e}){let t=Array(e.length),r=e.map(e=>e.constraints),n=0,l=100;for(let a=0;a<e.length;a++){let e=r[a];X(e,`Panel constraints not found for index ${a}`);let{defaultSize:i}=e;null!=i&&(n++,t[a]=i,l-=i)}for(let a=0;a<e.length;a++){let i=r[a];X(i,`Panel constraints not found for index ${a}`);let{defaultSize:o}=i;if(null!=o)continue;let s=l/(e.length-n);n++,t[a]=s,l-=s}return t}({panelDataArray:i}));let s=em({layout:o,panelConstraints:i.map(e=>e.constraints)});ei(a,s)||(E(s),T.current.layout=s,n&&n(s),es(i,s,R.current))}}),d(()=>{let e=T.current;return()=>{e.layout=[]}},[]);let V=(0,l.useCallback)(e=>{let t=!1,r=y.current;return r&&"rtl"===window.getComputedStyle(r,null).getPropertyValue("direction")&&(t=!0),function(r){var n,l;r.preventDefault();let a=y.current;if(!a)return()=>null;let{direction:i,dragState:o,id:u,keyboardResizeBy:c,onLayout:d}=O.current,{layout:f,panelDataArray:p}=T.current,{initialLayout:h}=null!=o?o:{},m=en(u,e,a),g=function(e,t,r,n,l,a){if(j(e)){let t="horizontal"===r,n=0;n=e.shiftKey?100:null!=l?l:10;let a=0;switch(e.key){case"ArrowDown":a=t?0:n;break;case"ArrowLeft":a=t?-n:0;break;case"ArrowRight":a=t?n:0;break;case"ArrowUp":a=t?0:-n;break;case"End":a=100;break;case"Home":a=-100}return a}return null==n?0:function(e,t,r,n,l){let a="horizontal"===r,i=ea(t,l);X(i,`No resize handle element found for id "${t}"`);let o=i.getAttribute(s);X(o,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=n,c=eo(r,e),d=el(o,l);X(d,`No group element found for id "${o}"`);let f=d.getBoundingClientRect();return(c-u)/(a?f.width:f.height)*100}(e,t,r,n,a)}(r,e,i,o,c,a),v="horizontal"===i;v&&t&&(g=-g);let x=ee({delta:g,initialLayout:null!=h?h:f,panelConstraints:p.map(e=>e.constraints),pivotIndices:m,prevLayout:f,trigger:j(r)?"keyboard":"mouse-or-touch"}),b=!eu(f,x);(C(r)||S(r))&&L.current!=g&&((L.current=g,b||0===g)?$.set(e,0):v?(n=g<0?P:z,$.set(e,n)):(l=g<0?A:I,$.set(e,l))),b&&(E(x),T.current.layout=x,d&&d(x),es(p,x,R.current))}},[]),q=(0,l.useCallback)((e,t)=>{let{onLayout:r}=O.current,{layout:n,panelDataArray:l}=T.current,a=l.map(e=>e.constraints),{panelSize:i,pivotIndices:o}=ew(l,e,n);X(null!=i,`Panel size not found for panel "${e.id}"`);let s=ee({delta:ey(l,e)===l.length-1?i-t:t-i,initialLayout:n,panelConstraints:a,pivotIndices:o,prevLayout:n,trigger:"imperative-api"});eu(n,s)||(E(s),T.current.layout=s,r&&r(s),es(l,s,R.current))},[]),G=(0,l.useCallback)((e,t)=>{let{layout:r,panelDataArray:n}=T.current,{collapsedSize:l=0,collapsible:a}=t,{collapsedSize:i=0,collapsible:o,maxSize:s=100,minSize:u=0}=e.constraints,{panelSize:c}=ew(n,e,r);null!=c&&(a&&o&&J(c,l)?J(l,i)||q(e,i):c<u?q(e,u):c>s&&q(e,s))},[q]),Q=(0,l.useCallback)((e,t)=>{let{direction:r}=O.current,{layout:n}=T.current;if(!y.current)return;let l=ea(e,y.current);X(l,`Drag handle element not found for id "${e}"`);let a=eo(r,t);k({dragHandleId:e,dragHandleRect:l.getBoundingClientRect(),initialCursorPosition:a,initialLayout:n})},[]),er=(0,l.useCallback)(()=>{k(null)},[]),ec=(0,l.useCallback)(e=>{let{panelDataArray:t}=T.current,r=ey(t,e);r>=0&&(t.splice(r,1),delete R.current[e.id],T.current.panelDataArrayChanged=!0,D())},[D]),ed=(0,l.useMemo)(()=>({collapsePanel:F,direction:n,dragState:w,expandPanel:B,getPanelSize:H,getPanelStyle:U,groupId:b,isPanelCollapsed:_,isPanelExpanded:K,reevaluatePanelConstraints:G,registerPanel:W,registerResizeHandle:V,resizePanel:q,startDragging:Q,stopDragging:er,unregisterPanel:ec,panelGroupElement:y.current}),[F,w,n,B,H,U,b,_,K,G,W,V,q,Q,er,ec]);return(0,l.createElement)(i.Provider,{value:ed},(0,l.createElement)(v,{...x,children:t,className:r,id:u,ref:y,style:{display:"flex",flexDirection:"horizontal"===n?"row":"column",height:"100%",overflow:"hidden",width:"100%",...g},"data-panel-group":"",[o]:n,[s]:b}))}let eb=(0,l.forwardRef)((e,t)=>(0,l.createElement)(ex,{...e,forwardedRef:t}));function ey(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function ew(e,t,r){let n=ey(e,t),l=n===e.length-1,a=r[n];return{...t.constraints,panelSize:a,pivotIndices:l?[n-1,n]:[n,n+1]}}function ej({children:e=null,className:t="",disabled:r=!1,hitAreaMargins:n,id:a,onBlur:f,onClick:p,onDragging:h,onFocus:g,onPointerDown:v,onPointerUp:x,style:b={},tabIndex:y=0,tagName:w="div",...j}){var C,S;let k=(0,l.useRef)(null),N=(0,l.useRef)({onClick:p,onDragging:h,onPointerDown:v,onPointerUp:x});(0,l.useEffect)(()=>{N.current.onClick=p,N.current.onDragging=h,N.current.onPointerDown=v,N.current.onPointerUp=x});let E=(0,l.useContext)(i);if(null===E)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:D,groupId:R,registerResizeHandle:M,startDragging:P,stopDragging:z,panelGroupElement:A}=E,I=m(a),[L,T]=(0,l.useState)("inactive"),[H,U]=(0,l.useState)(!1),[_,K]=(0,l.useState)(null),W=(0,l.useRef)({state:L});d(()=>{W.current.state=L}),(0,l.useEffect)(()=>{if(r)K(null);else{let e=M(I);K(()=>e)}},[r,I,M]);let G=null!=(C=null==n?void 0:n.coarse)?C:15,Y=null!=(S=null==n?void 0:n.fine)?S:5;return(0,l.useEffect)(()=>{if(r||null==_)return;let e=k.current;X(e,"Element ref not attached");let t=!1;return function(e,t,r,n,l){var a;let{ownerDocument:i}=t,o={direction:r,element:t,hitAreaMargins:n,setResizeHandlerState:l},s=null!=(a=F.get(i))?a:0;return F.set(i,s+1),B.add(o),q(),function(){var t;$.delete(e),B.delete(o);let r=null!=(t=F.get(i))?t:1;if(F.set(i,r-1),q(),1===r&&F.delete(i),O.includes(o)){let e=O.indexOf(o);e>=0&&O.splice(e,1),V(),l("up",!0,null)}}}(I,e,D,{coarse:G,fine:Y},(e,r,n)=>{if(!r)return void T("inactive");switch(e){case"down":{T("drag"),t=!1,X(n,'Expected event to be defined for "down" action'),P(I,n);let{onDragging:e,onPointerDown:r}=N.current;null==e||e(!0),null==r||r();break}case"move":{let{state:e}=W.current;t=!0,"drag"!==e&&T("hover"),X(n,'Expected event to be defined for "move" action'),_(n);break}case"up":{T("hover"),z();let{onClick:e,onDragging:r,onPointerUp:n}=N.current;null==r||r(!1),null==n||n(),t||null==e||e()}}})},[G,D,r,Y,M,I,_,P,z]),!function({disabled:e,handleId:t,resizeHandler:r,panelGroupElement:n}){(0,l.useEffect)(()=>{if(e||null==r||null==n)return;let l=ea(t,n);if(null==l)return;let a=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),r(e);break;case"F6":{e.preventDefault();let r=l.getAttribute(s);X(r,`No group element found for id "${r}"`);let a=et(r,n),i=er(r,t,n);X(null!==i,`No resize element found for id "${t}"`);let o=e.shiftKey?i>0?i-1:a.length-1:i+1<a.length?i+1:0;a[o].focus()}}};return l.addEventListener("keydown",a),()=>{l.removeEventListener("keydown",a)}},[n,e,t,r])}({disabled:r,handleId:I,resizeHandler:_,panelGroupElement:A}),(0,l.createElement)(w,{...j,children:e,className:t,id:a,onBlur:()=>{U(!1),null==f||f()},onFocus:()=>{U(!0),null==g||g()},ref:k,role:"separator",style:{touchAction:"none",userSelect:"none",...b},tabIndex:y,[o]:D,[s]:R,[u]:"","data-resize-handle-active":"drag"===L?"pointer":H?"keyboard":void 0,"data-panel-resize-handle-enabled":!r,[c]:I,"data-resize-handle-state":L})}ex.displayName="PanelGroup",eb.displayName="forwardRef(PanelGroup)",ej.displayName="PanelResizeHandle";var eC=e.i(75157);let eS=({className:e,...t})=>(0,n.jsx)(eb,{className:(0,eC.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),ek=({withHandle:e,className:t,...r})=>(0,n.jsx)(ej,{className:(0,eC.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&(0,n.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:(0,n.jsx)(a.GripVertical,{className:"h-2.5 w-2.5"})})});var eN=e.i(18566);function eE({sidebar:e,children:t,details:r}){let a=(0,eN.useSearchParams)().get("memoId"),i=l.default.useRef(null);return l.default.useEffect(()=>{let e=i.current;e&&(a?e.expand():e.collapse())},[a]),(0,n.jsxs)(eS,{direction:"horizontal",className:"h-full w-full rounded-lg border",children:[(0,n.jsx)(v,{defaultSize:20,minSize:15,maxSize:30,children:(0,n.jsx)("div",{className:"h-full w-full",children:e})}),(0,n.jsx)(ek,{}),(0,n.jsx)(v,{defaultSize:80,minSize:30,children:(0,n.jsx)("div",{className:"h-full w-full",children:t})}),(0,n.jsx)(ek,{}),(0,n.jsx)(v,{ref:i,defaultSize:0,minSize:20,maxSize:40,collapsible:!0,collapsedSize:0,children:(0,n.jsx)("div",{className:"h-full w-full",children:r})})]})}e.s(["ResizableLayout",()=>eE],91745)},46353,e=>{"use strict";var t=e.i(18050),r=e.i(19455);let n=(0,e.i(75254).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var l=e.i(18566);function a(){let e=(0,l.useRouter)(),a=async()=>{if(window.electron?.workspace){let t=await window.electron.workspace.select();t&&t.success&&e.refresh()}};return(0,t.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-background text-foreground space-y-8 p-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,t.jsxs)("div",{className:"mb-8 relative group",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full opacity-50 group-hover:opacity-75 transition-opacity duration-500"}),(0,t.jsx)("img",{src:"/app-icon.png",alt:"Azurite Logo",className:"h-32 w-32 relative drop-shadow-2xl transition-transform duration-500 group-hover:scale-105"})]}),(0,t.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Azurite"}),(0,t.jsxs)("p",{className:"text-muted-foreground text-center max-w-sm leading-relaxed",children:["ローカルで管理する",(0,t.jsx)("br",{}),"チャットアプリライクなMarkdownノートアプリ"]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsxs)(r.Button,{size:"lg",onClick:a,className:"h-12 px-8 text-base font-medium shadow-lg hover:shadow-primary/20 hover:-translate-y-0.5 transition-all",children:[(0,t.jsx)(n,{className:"mr-2 h-5 w-5"}),"ノートブックを開く"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground/60",children:"既存のフォルダを選択するか、新しいフォルダを作成してください"})]})]})}e.s(["WelcomeScreen",()=>a],46353)}]);